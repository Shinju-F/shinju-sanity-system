/**
 * Shinju Sanity System - –ì–æ—Ç–∏—á–µ—Å–∫–∏–π —Å—Ç–∏–ª—å —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏
 * –¢–µ–º–Ω–∞—è —Ñ—ç–Ω—Ç–µ–∑–∏ —ç—Å—Ç–µ—Ç–∏–∫–∞ —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏
 */

/* ===== –û–°–ù–û–í–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï ===== */
:root {
  /* –¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞ –≤ –≥–æ—Ç–∏—á–µ—Å–∫–æ–º —Å—Ç–∏–ª–µ */
  --color-primary: #9b59b6;        /* –ú–∏—Å—Ç–∏—á–µ—Å–∫–∏–π —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π */
  --color-secondary: #e74c3c;      /* –ö—Ä–æ–≤–∞–≤—ã–π –∫—Ä–∞—Å–Ω—ã–π */
  --color-success: #2ecc71;        /* –ò–∑—É–º—Ä—É–¥–Ω—ã–π –∑–µ–ª–µ–Ω—ã–π */
  --color-warning: #f39c12;        /* –û—Ö—Ä–∏—Å—Ç—ã–π –æ—Ä–∞–Ω–∂–µ–≤—ã–π */
  --color-info: #3498db;           /* –•–æ–ª–æ–¥–Ω—ã–π —Å–∏–Ω–∏–π */
  --color-dark: #1a1a2e;           /* –¢–µ–º–Ω–∞—è –Ω–æ—á—å */
  --color-darker: #0f0f1a;         /* –ì–ª—É–±–æ–∫–∏–π –º—Ä–∞–∫ */
  --color-light: #e6e6e6;          /* –õ—É–Ω–Ω—ã–π —Å–≤–µ—Ç */
  --color-gray: #8a8a8a;           /* –ö–∞–º–µ–Ω–Ω—ã–π —Å–µ—Ä—ã–π */
  --color-border: #34495e;         /* –°—Ç–∞–ª—å–Ω–æ–π —Å–µ—Ä—ã–π */
  --color-gold: #f1c40f;           /* –ó–æ–ª–æ—Ç–æ–π –∞–∫—Ü–µ–Ω—Ç */
  
  /* –ì—Ä–∞–¥–∏–µ–Ω—Ç—ã */
  --gradient-dark: linear-gradient(145deg, #0f0f1a, #1a1a2e);
  --gradient-purple: linear-gradient(145deg, #8e44ad, #9b59b6);
  --gradient-red: linear-gradient(145deg, #c0392b, #e74c3c);
  --gradient-green: linear-gradient(145deg, #27ae60, #2ecc71);
  --gradient-gold: linear-gradient(145deg, #f39c12, #f1c40f);
  
  /* –¢–µ–Ω–∏ –∏ —Å–≤–µ—á–µ–Ω–∏—è */
  --shadow-small: 0 2px 10px rgba(0, 0, 0, 0.6);
  --shadow-medium: 0 4px 20px rgba(0, 0, 0, 0.8);
  --shadow-large: 0 8px 30px rgba(0, 0, 0, 0.9);
  --glow-purple: 0 0 15px rgba(155, 89, 182, 0.7);
  --glow-red: 0 0 15px rgba(231, 76, 60, 0.7);
  --glow-green: 0 0 15px rgba(46, 204, 113, 0.7);
  
  /* –°–∫—Ä—É–≥–ª–µ–Ω–∏—è */
  --border-radius-sm: 4px;
  --border-radius-md: 8px;
  --border-radius-lg: 12px;
  --border-radius-xl: 20px;
  
  /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
  --transition-fast: all 0.2s ease;
  --transition-normal: all 0.3s ease;
  --transition-slow: all 0.5s ease;
  --pulse-animation: pulse 2s infinite;
}
/* ===== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ü–û–ó–ò–¶–ò–û–ù–ò–†–û–í–ê–ù–ò–Ø ===== */

/* –ü–µ—Ä–µ–º–µ—â–∞–µ–º –≤—Å–µ –æ–∫–Ω–∞ —Å–∏—Å—Ç–µ–º—ã –≤ –ª–µ–≤—É—é —á–∞—Å—Ç—å */
#sanity-dm-panel,
#sanity-library-panel,
#sanity-player-panel {
  position: fixed !important;
  left: 50px !important; /* –û—Ç—Å—Ç—É–ø –æ—Ç –ª–µ–≤–æ–≥–æ –∫—Ä–∞—è */
  top: 50% !important;
  transform: translateY(-50%) !important;
  margin: 0 !important;
  z-index: 100 !important;
  max-height: 90vh !important;
  max-width: 90vw !important;
}

/* –£–±–∏—Ä–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ Foundry 
.window-app.sanity-system {
  position: fixed !important;
  transform: none !important;
  margin: 0 !important;
}*/

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞ 
.window-app.sanity-system .window-content {
  overflow: hidden !important;
  background: transparent !important;
}*/

/* –ó–∞–≥–æ–ª–æ–≤–∫–∏ –æ–∫–æ–Ω 
.window-app.sanity-system .window-header {
  cursor: move !important;
  pointer-events: auto !important;
  user-select: none !important;
}*/
/* ===== –û–°–ù–û–í–ù–´–ï –°–¢–ò–õ–ò ===== */
.sanity-system {
  font-family: 'Cinzel', 'Times New Roman', serif;
  background: transparent !important;
}

.gothic-panel {
  background: var(--gradient-dark);
  color: var(--color-light);
  border: 2px solid var(--color-primary);
  border-radius: var(--border-radius-lg);
  box-shadow: 
    var(--shadow-large),
    inset 0 0 30px rgba(155, 89, 182, 0.1);
  position: relative;
  overflow: hidden;
}

.gothic-panel::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, transparent, var(--color-primary), transparent);
  animation: shimmer 3s infinite;
}

@keyframes shimmer {
  0% { background-position: -200% center; }
  100% { background-position: 200% center; }
}

@keyframes pulse {
  0% { opacity: 0.7; }
  50% { opacity: 1; }
  100% { opacity: 0.7; }
}

/* ===== –®–ê–ü–ö–ê –ü–ê–ù–ï–õ–ò –ò–ì–†–û–ö–ê ===== */
.gothic-header {
  background: linear-gradient(135deg, rgba(26, 26, 46, 0.9), rgba(15, 15, 26, 0.95));
  padding: 20px;
  border-bottom: 2px solid var(--color-primary);
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: relative;
  z-index: 10;
  backdrop-filter: blur(10px);
}

.gothic-header::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 10%;
  right: 10%;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--color-gold), transparent);
}

.header-content {
  display: flex;
  align-items: center;
  gap: 20px;
  flex: 1;
}

/* –¢–æ–∫–µ–Ω –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ */
.token-container {
  position: relative;
  width: 80px;
  height: 80px;
  flex-shrink: 0;
}

.character-token {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid var(--color-primary);
  box-shadow: 
    var(--shadow-medium),
    inset 0 0 20px rgba(0, 0, 0, 0.5);
  position: relative;
  z-index: 2;
}

.token-frame {
  position: absolute;
  top: -6px;
  left: -6px;
  right: -6px;
  bottom: -6px;
  border: 2px solid var(--color-gold);
  border-radius: 50%;
  z-index: 1;
  animation: rotate 20s linear infinite;
}

@keyframes rotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —É—Ä–æ–≤–Ω—è —Å—Ç—Ä–µ—Å—Å–∞ –Ω–∞ —Ç–æ–∫–µ–Ω–µ */
.sanity-indicator {
  position: absolute;
  bottom: -5px;
  right: -5px;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 3;
  border: 2px solid var(--color-dark);
  box-shadow: var(--shadow-small);
  font-size: 14px;
}

.sanity-level-1 { background: var(--gradient-green); }
.sanity-level-2 { background: var(--gradient-gold); }
.sanity-level-3 { background: linear-gradient(145deg, #e67e22, #d35400); }
.sanity-level-4 { background: var(--gradient-red); }
.sanity-level-5 { background: var(--gradient-purple); }

/* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ —à–∞–ø–∫–µ */
.header-info {
  flex: 1;
  min-width: 0;
}

.gothic-title {
  margin: 0 0 5px 0;
  font-size: 24px;
  color: var(--color-light);
  font-weight: 700;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
  letter-spacing: 1px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.gothic-subtitle {
  margin: 0 0 10px 0;
  font-size: 13px;
  color: var(--color-gray);
  font-style: italic;
  letter-spacing: 0.5px;
}

.header-stats {
  display: flex;
  gap: 20px;
  flex-wrap: wrap;
}

.stat-item {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  color: var(--color-gray);
}

.stat-item i {
  color: var(--color-primary);
  font-size: 14px;
}

.stat-item strong {
  color: var(--color-light);
  font-weight: 600;
}

.stress-badge {
  padding: 2px 8px;
  border-radius: 12px;
  font-weight: 700;
  font-size: 12px;
  color: white;
  margin-left: 5px;
}

.stress-1 { background: var(--color-success); }
.stress-2 { background: var(--color-warning); }
.stress-3 { background: #e67e22; }
.stress-4 { background: var(--color-secondary); }
.stress-5 { background: var(--color-primary); }

/* –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */
.header-controls {
  display: flex;
  gap: 8px;
}

.gothic-btn {
  background: rgba(52, 73, 94, 0.6);
  border: 1px solid var(--color-border);
  color: var(--color-light);
  width: 36px;
  height: 36px;
  border-radius: var(--border-radius-md);
  cursor: pointer;
  transition: var(--transition-normal);
  display: flex;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(5px);
}

.gothic-btn:hover {
  background: rgba(155, 89, 182, 0.8);
  border-color: var(--color-primary);
  color: white;
  transform: translateY(-2px) scale(1.05);
  box-shadow: var(--glow-purple);
}

.gothic-btn:active {
  transform: translateY(0) scale(1);
}

/* ===== –í–ö–õ–ê–î–ö–ò ===== */
.gothic-tabs {
  background: rgba(15, 15, 26, 0.8);
  border-bottom: 1px solid rgba(155, 89, 182, 0.3);
  padding: 0 20px;
  position: relative;
  z-index: 5;
}

.tabs-container {
  display: flex;
  gap: 2px;
}

.gothic-tab-btn {
  flex: 1;
  background: transparent;
  border: none;
  border-bottom: 3px solid transparent;
  color: var(--color-gray);
  padding: 15px;
  cursor: pointer;
  font-size: 13px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  transition: var(--transition-normal);
  font-family: 'Cinzel', serif;
  font-weight: 600;
  letter-spacing: 0.5px;
  position: relative;
  overflow: hidden;
}

.gothic-tab-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(155, 89, 182, 0.2), transparent);
  transition: var(--transition-normal);
}

.gothic-tab-btn:hover::before {
  left: 100%;
}

.gothic-tab-btn:hover {
  color: var(--color-light);
  background: rgba(26, 26, 46, 0.5);
}

.gothic-tab-btn.active {
  color: var(--color-primary);
  border-bottom-color: var(--color-primary);
  background: rgba(26, 26, 46, 0.8);
}

.gothic-tab-btn.active::after {
  content: '';
  position: absolute;
  bottom: -3px;
  left: 0;
  right: 0;
  height: 3px;
  background: var(--color-primary);
  box-shadow: var(--glow-purple);
}

.gothic-tab-btn i {
  font-size: 14px;
}

.tab-badge {
  background: var(--color-secondary);
  color: white;
  font-size: 11px;
  padding: 2px 6px;
  border-radius: 10px;
  min-width: 18px;
  text-align: center;
}

/* ===== –ö–û–ù–¢–ï–ù–¢ –í–ö–õ–ê–î–û–ö ===== */
.gothic-content {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  max-height: calc(100% - 160px);
}

.tab-content {
  display: none;
  padding: 20px;
  animation: fadeIn 0.3s ease;
}

.tab-content.active {
  display: block;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* ===== –ö–ê–†–¢–û–ß–ö–ò –ì–û–¢–ò–ß–ï–°–ö–û–ì–û –°–¢–ò–õ–Ø ===== */
.gothic-card {
  background: linear-gradient(145deg, rgba(26, 26, 46, 0.8), rgba(15, 15, 26, 0.9));
  border: 1px solid rgba(155, 89, 182, 0.3);
  border-radius: var(--border-radius-lg);
  padding: 20px;
  position: relative;
  overflow: hidden;
  transition: var(--transition-normal);
  backdrop-filter: blur(10px);
}

.gothic-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, var(--color-primary), var(--color-gold), var(--color-primary));
}

.gothic-card:hover {
  border-color: rgba(155, 89, 182, 0.6);
  transform: translateY(-3px);
  box-shadow: var(--shadow-medium);
}

.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  padding-bottom: 10px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.card-header h3 {
  margin: 0;
  font-size: 16px;
  color: var(--color-primary);
  display: flex;
  align-items: center;
  gap: 10px;
  font-weight: 600;
}

.card-value {
  font-weight: 700;
  font-size: 20px;
  color: var(--color-light);
  text-shadow: 0 0 10px rgba(155, 89, 182, 0.5);
}

/* ===== –í–ö–õ–ê–î–ö–ê –û–ë–ó–û–† ===== */
.overview-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
}

/* –®–∫–∞–ª–∞ —Ä–∞—Å—Å—É–¥–∫–∞ */
.meter-container {
  margin-bottom: 15px;
}

.gothic-meter {
  height: 30px;
  background: rgba(0, 0, 0, 0.3);
  border-radius: 15px;
  overflow: hidden;
  margin-bottom: 8px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  position: relative;
}

.meter-fill {
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: width 1s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  background: linear-gradient(90deg, 
    rgba(46, 204, 113, 0.8),
    rgba(46, 204, 113, 1),
    rgba(46, 204, 113, 0.8)
  );
}

.meter-fill::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(90deg, 
    transparent 0%,
    rgba(255, 255, 255, 0.2) 50%,
    transparent 100%
  );
  animation: shimmer 2s infinite;
}

.meter-glow {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(circle at center, rgba(46, 204, 113, 0.3), transparent 70%);
  animation: var(--pulse-animation);
}

.meter-text {
  color: white;
  font-weight: 700;
  font-size: 13px;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
  z-index: 1;
  letter-spacing: 0.5px;
}

.meter-labels {
  display: flex;
  justify-content: space-between;
  font-size: 11px;
  color: var(--color-gray);
  padding: 0 5px;
}

.meter-status {
  display: flex;
  justify-content: center;
  margin-top: 10px;
}

.status-danger, .status-warning, .status-safe {
  padding: 6px 12px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 6px;
}

.status-danger {
  background: rgba(231, 76, 60, 0.2);
  color: var(--color-secondary);
  border: 1px solid rgba(231, 76, 60, 0.4);
}

.status-warning {
  background: rgba(243, 156, 18, 0.2);
  color: var(--color-warning);
  border: 1px solid rgba(243, 156, 18, 0.4);
}

.status-safe {
  background: rgba(46, 204, 113, 0.2);
  color: var(--color-success);
  border: 1px solid rgba(46, 204, 113, 0.4);
}

/* –£—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–∞ */
.stress-level-display {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  font-weight: 800;
  color: white;
  box-shadow: 
    var(--shadow-medium),
    inset 0 0 20px rgba(0, 0, 0, 0.3);
  position: relative;
  border: 2px solid white;
}

.stress-level-display::after {
  content: 'üß†';
  position: absolute;
  font-size: 16px;
  opacity: 0.5;
}

.stress-info {
  margin-bottom: 20px;
}

.stress-info h4 {
  margin: 0 0 8px 0;
  color: var(--color-light);
  font-size: 16px;
}

.stress-desc {
  margin: 0;
  font-size: 13px;
  color: var(--color-gray);
  line-height: 1.4;
}

.chances-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px;
}

.chance-item {
  padding: 12px;
  border-radius: var(--border-radius-md);
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: var(--transition-normal);
}

.chance-item:hover {
  transform: translateY(-2px);
}

.chance-item.psychosis {
  background: rgba(231, 76, 60, 0.1);
  border: 1px solid rgba(231, 76, 60, 0.3);
}

.chance-item.inspiration {
  background: rgba(46, 204, 113, 0.1);
  border: 1px solid rgba(46, 204, 113, 0.3);
}

.chance-label {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  color: var(--color-light);
}

.chance-item.psychosis .chance-label i {
  color: var(--color-secondary);
}

.chance-item.inspiration .chance-label i {
  color: var(--color-success);
}

.chance-value {
  font-weight: 700;
  font-size: 18px;
}

.chance-item.psychosis .chance-value {
  color: var(--color-secondary);
  text-shadow: 0 0 8px rgba(231, 76, 60, 0.5);
}

.chance-item.inspiration .chance-value {
  color: var(--color-success);
  text-shadow: 0 0 8px rgba(46, 204, 113, 0.5);
}

/* –§–æ—Ä–º—É–ª–∞ —Ä–∞—Å—Å—É–¥–∫–∞ */
.formula-display {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.formula-text code {
  background: rgba(0, 0, 0, 0.4);
  border: 1px solid rgba(155, 89, 182, 0.3);
  border-radius: var(--border-radius-md);
  padding: 12px;
  display: block;
  font-family: 'Courier New', monospace;
  font-size: 14px;
  color: var(--color-light);
  text-align: center;
  letter-spacing: 1px;
}

.formula-breakdown {
  display: flex;
  justify-content: space-around;
  gap: 10px;
}

.ability-mod {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 10px;
  border-radius: var(--border-radius-md);
  background: rgba(52, 73, 94, 0.3);
  transition: var(--transition-normal);
}

.ability-mod:hover {
  background: rgba(52, 73, 94, 0.5);
  transform: translateY(-2px);
}

.int-mod { border-top: 3px solid #3498db; }
.cha-mod { border-top: 3px solid #e74c3c; }
.wis-mod { border-top: 3px solid #2ecc71; }

.mod-label {
  font-size: 12px;
  color: var(--color-gray);
  margin-bottom: 6px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.mod-value {
  font-size: 20px;
  font-weight: 700;
  padding: 4px 12px;
  border-radius: 20px;
  min-width: 40px;
  text-align: center;
}

.mod-value.positive {
  background: rgba(46, 204, 113, 0.2);
  color: var(--color-success);
  border: 1px solid var(--color-success);
}

.mod-value.negative {
  background: rgba(231, 76, 60, 0.2);
  color: var(--color-secondary);
  border: 1px solid var(--color-secondary);
}

.formula-note {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px;
  background: rgba(155, 89, 182, 0.1);
  border-radius: var(--border-radius-md);
  border: 1px solid rgba(155, 89, 182, 0.3);
  font-size: 12px;
  color: var(--color-gray);
}

.formula-note i {
  color: var(--color-primary);
}

/* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
.stats-grid {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.stat-item {
  display: flex;
  align-items: center;
  gap: 15px;
  padding: 12px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: var(--border-radius-md);
  border: 1px solid rgba(255, 255, 255, 0.05);
  transition: var(--transition-normal);
}

.stat-item:hover {
  background: rgba(0, 0, 0, 0.3);
  border-color: rgba(155, 89, 182, 0.3);
}

.stat-icon {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: rgba(155, 89, 182, 0.2);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-primary);
  font-size: 16px;
}

.stat-info {
  flex: 1;
}

.stat-label {
  font-size: 11px;
  color: var(--color-gray);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 4px;
}

.stat-value {
  font-size: 18px;
  font-weight: 700;
  color: var(--color-light);
}

/* ===== –í–ö–õ–ê–î–ö–ê –°–û–°–¢–û–Ø–ù–ò–Ø ===== */
.conditions-container {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.gothic-condition-card {
  background: linear-gradient(145deg, rgba(26, 26, 46, 0.9), rgba(15, 15, 26, 0.95));
  border: 1px solid;
  border-radius: var(--border-radius-lg);
  padding: 20px;
  transition: var(--transition-normal);
  position: relative;
  overflow: hidden;
  max-height: 150px;
  overflow: hidden;
  transition: max-height 0.3s ease;
}

.gothic-condition-card.expanded {
  max-height: 500px;
}

.gothic-condition-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  height: 100%;
}

.gothic-condition-card.psychosis {
  border-color: rgba(231, 76, 60, 0.4);
}

.gothic-condition-card.psychosis::before {
  background: var(--gradient-red);
}

.gothic-condition-card.inspiration {
  border-color: rgba(46, 204, 113, 0.4);
}

.gothic-condition-card.inspiration::before {
  background: var(--gradient-green);
}

.gothic-condition-card:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-medium);
}

.condition-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 15px;
  cursor: pointer;
}

.condition-title {
  flex: 1;
}

.condition-title h4 {
  margin: 0 0 8px 0;
  color: var(--color-light);
  font-size: 18px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.condition-meta {
  display: flex;
  gap: 10px;
}

.condition-tier {
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 600;
  color: white;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.tier-1 { background: rgba(46, 204, 113, 0.3); border: 1px solid rgba(46, 204, 113, 0.5); }
.tier-2 { background: rgba(243, 156, 18, 0.3); border: 1px solid rgba(243, 156, 18, 0.5); }
.tier-3 { background: rgba(230, 126, 34, 0.3); border: 1px solid rgba(230, 126, 34, 0.5); }
.tier-4 { background: rgba(231, 76, 60, 0.3); border: 1px solid rgba(231, 76, 60, 0.5); }
.tier-5 { background: rgba(155, 89, 182, 0.3); border: 1px solid rgba(155, 89, 182, 0.5); }

.condition-type {
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.condition-type.psychosis {
  background: rgba(231, 76, 60, 0.2);
  color: var(--color-secondary);
  border: 1px solid rgba(231, 76, 60, 0.4);
}

.condition-type.inspiration {
  background: rgba(46, 204, 113, 0.2);
  color: var(--color-success);
  border: 1px solid rgba(46, 204, 113, 0.4);
}

.condition-toggle {
  background: rgba(52, 73, 94, 0.5);
  border: 1px solid var(--color-border);
  color: var(--color-gray);
  width: 32px;
  height: 32px;
  border-radius: 50%;
  cursor: pointer;
  transition: var(--transition-normal);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.condition-toggle:hover {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: white;
  transform: rotate(90deg);
}

.condition-preview {
  margin-bottom: 15px;
}

.condition-preview p {
  margin: 0;
  font-size: 14px;
  color: var(--color-gray);
  line-height: 1.5;
  max-height: 42px;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

/* –î–µ—Ç–∞–ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è */
.condition-details {
  margin-top: 15px;
  padding-top: 15px;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  animation: slideDown 0.3s ease;
  max-height: 300px;
  overflow-y: auto;
}

@keyframes slideDown {
  from { opacity: 0; max-height: 0; }
  to { opacity: 1; max-height: 300px; }
}

.details-content {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.details-section {
  background: rgba(0, 0, 0, 0.2);
  border-radius: var(--border-radius-md);
  padding: 15px;
}

.details-section h5 {
  margin: 0 0 10px 0;
  color: var(--color-primary);
  font-size: 14px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.condition-description {
  margin: 0;
  font-size: 14px;
  color: var(--color-light);
  line-height: 1.6;
  word-break: break-word;
  white-space: pre-wrap;
}

.mechanics-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 10px;
}

.mech-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 12px;
  background: rgba(52, 73, 94, 0.3);
  border-radius: var(--border-radius-sm);
}

.mech-label {
  font-size: 12px;
  color: var(--color-gray);
}

.mech-value {
  font-size: 13px;
  font-weight: 600;
  padding: 4px 8px;
  border-radius: 4px;
}

.mech-value.psychosis {
  background: rgba(231, 76, 60, 0.2);
  color: var(--color-secondary);
  border: 1px solid rgba(231, 76, 60, 0.3);
}

.mech-value.inspiration {
  background: rgba(46, 204, 113, 0.2);
  color: var(--color-success);
  border: 1px solid rgba(46, 204, 113, 0.3);
}

.mech-value.tier-1 { color: var(--color-success); }
.mech-value.tier-2 { color: var(--color-warning); }
.mech-value.tier-3 { color: #e67e22; }
.mech-value.tier-4 { color: var(--color-secondary); }
.mech-value.tier-5 { color: var(--color-primary); }

.details-note {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  padding: 15px;
  background: rgba(155, 89, 182, 0.1);
  border-radius: var(--border-radius-md);
  border: 1px solid rgba(155, 89, 182, 0.3);
}

.details-note i {
  color: var(--color-primary);
  font-size: 16px;
  margin-top: 2px;
}

.details-note p {
  margin: 0;
  font-size: 13px;
  color: var(--color-light);
  line-height: 1.5;
  flex: 1;
}

/* ===== –í–ö–õ–ê–î–ö–ê –ò–°–¢–û–†–ò–ò ===== */
.history-timeline {
  position: relative;
  padding-left: 40px;
  max-height: 400px;
  overflow-y: auto;
}

.history-timeline::before {
  content: '';
  position: absolute;
  left: 20px;
  top: 0;
  bottom: 0;
  width: 2px;
  background: linear-gradient(to bottom, transparent, var(--color-primary), transparent);
}

.timeline-item {
  position: relative;
  margin-bottom: 25px;
  animation: fadeInLeft 0.5s ease;
}

@keyframes fadeInLeft {
  from { opacity: 0; transform: translateX(-20px); }
  to { opacity: 1; transform: translateX(0); }
}

.timeline-marker {
  position: absolute;
  left: -40px;
  top: 0;
  width: 40px;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.marker-icon {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: var(--gradient-dark);
  border: 2px solid var(--color-primary);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-primary);
  z-index: 2;
  box-shadow: var(--shadow-small);
}

.marker-line {
  width: 2px;
  height: 100%;
  background: var(--color-primary);
  margin-top: 5px;
  opacity: 0.5;
}

.timeline-content {
  background: linear-gradient(145deg, rgba(26, 26, 46, 0.8), rgba(15, 15, 26, 0.9));
  border: 1px solid rgba(155, 89, 182, 0.3);
  border-radius: var(--border-radius-lg);
  padding: 15px;
  position: relative;
  overflow: hidden;
  min-height: 70px;
}

.timeline-content::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  height: 100%;
  background: linear-gradient(to bottom, var(--color-primary), var(--color-gold));
}

.timeline-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
  flex-wrap: wrap;
  gap: 10px;
}

.timeline-header h4 {
  margin: 0;
  font-size: 16px;
  color: var(--color-primary);
  flex: 1;
  min-width: 200px;
}

.timeline-date {
  font-size: 12px;
  color: var(--color-gray);
  background: rgba(0, 0, 0, 0.3);
  padding: 4px 10px;
  border-radius: 12px;
  white-space: nowrap;
}

.timeline-body {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.timeline-reason {
  margin: 0;
  font-size: 14px;
  color: var(--color-light);
  font-style: italic;
  padding: 8px 10px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: var(--border-radius-md);
  border-left: 3px solid var(--color-primary);
  word-break: break-word;
}

.timeline-stats {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.stat-badge {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 600;
}

.stat-badge.psychosis {
  background: rgba(231, 76, 60, 0.2);
  color: var(--color-secondary);
  border: 1px solid rgba(231, 76, 60, 0.4);
}

.stat-badge.inspiration {
  background: rgba(46, 204, 113, 0.2);
  color: var(--color-success);
  border: 1px solid rgba(46, 204, 113, 0.4);
}

/* –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏–∏ */
.condition-applied {
  margin: 10px 0;
  padding: 10px;
  background: rgba(0, 0, 0, 0.3);
  border-radius: var(--border-radius-md);
  border-left: 3px solid;
}

.condition-applied.psychosis {
  border-left-color: var(--color-secondary);
}

.condition-applied.inspiration {
  border-left-color: var(--color-success);
}

.applied-condition {
  display: flex;
  align-items: center;
  gap: 10px;
}

.applied-condition i {
  font-size: 20px;
}

.applied-condition.psychosis i {
  color: var(--color-secondary);
}

.applied-condition.inspiration i {
  color: var(--color-success);
}

.applied-condition-info {
  flex: 1;
}

.applied-condition-info strong {
  display: block;
  color: var(--color-light);
  margin-bottom: 5px;
  font-size: 14px;
}

.condition-type-badge {
  font-size: 11px;
  padding: 3px 8px;
  border-radius: 10px;
  display: inline-block;
}

.condition-type-badge.psychosis {
  background: rgba(231, 76, 60, 0.2);
  color: var(--color-secondary);
  border: 1px solid rgba(231, 76, 60, 0.4);
}

.condition-type-badge.inspiration {
  background: rgba(46, 204, 113, 0.2);
  color: var(--color-success);
  border: 1px solid rgba(46, 204, 113, 0.4);
}

/* ===== –í–ö–õ–ê–î–ö–ê –°–ü–†–ê–í–ö–ò ===== */
.info-container {
  display: flex;
  flex-direction: column;
  gap: 25px;
}

.info-header {
  text-align: center;
  padding-bottom: 20px;
  border-bottom: 1px solid rgba(155, 89, 182, 0.3);
}

.info-header h3 {
  margin: 0 0 10px 0;
  color: var(--color-primary);
  font-size: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 15px;
}

.info-subtitle {
  margin: 0;
  font-size: 14px;
  color: var(--color-gray);
  font-style: italic;
  letter-spacing: 1px;
}

.info-sections {
  display: flex;
  flex-direction: column;
  gap: 25px;
}

.info-section {
  background: linear-gradient(145deg, rgba(26, 26, 46, 0.8), rgba(15, 15, 26, 0.9));
  border: 1px solid rgba(155, 89, 182, 0.3);
  border-radius: var(--border-radius-lg);
  padding: 25px;
  position: relative;
  overflow: hidden;
}

.info-section::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, transparent, var(--color-primary), transparent);
}

.info-section h4 {
  margin: 0 0 20px 0;
  color: var(--color-primary);
  font-size: 18px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.section-content {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.section-content p {
  margin: 0;
  font-size: 14px;
  color: var(--color-light);
  line-height: 1.6;
}

.info-list {
  margin: 0;
  padding-left: 20px;
  list-style: none;
}

.info-list li {
  margin-bottom: 8px;
  font-size: 13px;
  color: var(--color-gray);
  display: flex;
  align-items: flex-start;
  gap: 10px;
}

.info-list li::before {
  content: '‚ñ∏';
  color: var(--color-primary);
}

.info-list li i {
  color: var(--color-primary);
  font-size: 12px;
  margin-top: 2px;
}

/* –£—Ä–æ–≤–Ω–∏ —Å—Ç—Ä–µ—Å—Å–∞ –≤ —Å–ø—Ä–∞–≤–∫–µ */
.stress-levels-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 15px;
}

.stress-level-info {
  background: rgba(0, 0, 0, 0.3);
  border-radius: var(--border-radius-md);
  padding: 15px;
  border: 1px solid;
  transition: var(--transition-normal);
}

.stress-level-info:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-small);
}

.level-1 { border-color: rgba(46, 204, 113, 0.3); }
.level-2 { border-color: rgba(243, 156, 18, 0.3); }
.level-3 { border-color: rgba(230, 126, 34, 0.3); }
.level-4 { border-color: rgba(231, 76, 60, 0.3); }
.level-5 { border-color: rgba(155, 89, 182, 0.3); }

.level-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 10px;
}

.level-badge {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  color: white;
  font-size: 14px;
}

.level-1 .level-badge { background: var(--color-success); }
.level-2 .level-badge { background: var(--color-warning); }
.level-3 .level-badge { background: #e67e22; }
.level-4 .level-badge { background: var(--color-secondary); }
.level-5 .level-badge { background: var(--color-primary); }

.level-header h5 {
  margin: 0;
  font-size: 14px;
  color: var(--color-light);
  flex: 1;
}

.level-desc {
  margin: 0 0 10px 0;
  font-size: 12px;
  color: var(--color-gray);
  line-height: 1.4;
}

.level-chances {
  display: flex;
  gap: 8px;
}

.chance-badge {
  flex: 1;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 11px;
  font-weight: 600;
  text-align: center;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.chance-badge.psychosis {
  background: rgba(231, 76, 60, 0.2);
  color: var(--color-secondary);
  border: 1px solid rgba(231, 76, 60, 0.3);
}

.chance-badge.inspiration {
  background: rgba(46, 204, 113, 0.2);
  color: var(--color-success);
  border: 1px solid rgba(46, 204, 113, 0.3);
}

/* –¢–∞–±–ª–∏—Ü–∞ —à–∞–Ω—Å–æ–≤ */
.chances-table {
  display: flex;
  flex-direction: column;
  border: 1px solid rgba(155, 89, 182, 0.3);
  border-radius: var(--border-radius-md);
  overflow: hidden;
}

.table-header, .table-row {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
}

.table-header {
  background: rgba(155, 89, 182, 0.2);
}

.table-cell {
  padding: 12px;
  text-align: center;
  font-weight: 600;
  font-size: 13px;
}

.table-header .table-cell {
  color: var(--color-primary);
  border-bottom: 1px solid rgba(155, 89, 182, 0.3);
}

.table-row .table-cell {
  color: var(--color-light);
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.table-row:last-child .table-cell {
  border-bottom: none;
}

.psychosis { color: var(--color-secondary); }
.inspiration { color: var(--color-success); }

.info-note {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  padding: 12px;
  border-radius: var(--border-radius-md);
  font-size: 13px;
  color: var(--color-light);
  line-height: 1.4;
}

.info-note i {
  font-size: 14px;
  margin-top: 2px;
  flex-shrink: 0;
}

.info-note.warning {
  background: rgba(231, 76, 60, 0.1);
  border: 1px solid rgba(231, 76, 60, 0.3);
}

.info-note.warning i {
  color: var(--color-secondary);
}

.info-note:not(.warning) {
  background: rgba(155, 89, 182, 0.1);
  border: 1px solid rgba(155, 89, 182, 0.3);
}

.info-note:not(.warning) i {
  color: var(--color-primary);
}

/* –ö–∞—Ä—Ç–æ—á–∫–∏ —Å–æ–≤–µ—Ç–æ–≤ */
.tip-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 15px;
}

.tip-card {
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(155, 89, 182, 0.3);
  border-radius: var(--border-radius-md);
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  transition: var(--transition-normal);
}

.tip-card:hover {
  transform: translateY(-3px);
  border-color: var(--color-primary);
  box-shadow: var(--shadow-small);
}

.tip-icon {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: rgba(155, 89, 182, 0.2);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-primary);
  font-size: 16px;
}

.tip-card h5 {
  margin: 0;
  font-size: 14px;
  color: var(--color-light);
}

.tip-card p {
  margin: 0;
  font-size: 12px;
  color: var(--color-gray);
  line-height: 1.4;
}

.info-footer {
  text-align: center;
  padding: 20px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: var(--border-radius-lg);
  border: 1px solid rgba(155, 89, 182, 0.2);
  font-size: 13px;
  color: var(--color-gray);
}

.info-footer i {
  color: var(--color-primary);
  margin-right: 8px;
}

/* ===== –ü–£–°–¢–´–ï –°–û–°–¢–û–Ø–ù–ò–Ø ===== */
.empty-state {
  text-align: center;
  padding: 60px 40px;
  color: var(--color-gray);
}

.empty-icon {
  font-size: 48px;
  margin-bottom: 20px;
  color: var(--color-border);
  opacity: 0.5;
}

.empty-state h3 {
  margin: 0 0 12px 0;
  color: var(--color-primary);
  font-size: 20px;
}

.empty-state p {
  margin: 0;
  font-size: 14px;
  max-width: 300px;
  margin: 0 auto;
  line-height: 1.5;
}

/* ===== –°–û–û–ë–©–ï–ù–ò–ï –û–¢–°–£–¢–°–¢–í–ò–Ø –ü–ï–†–°–û–ù–ê–ñ–ê ===== */
.no-character {
  text-align: center;
  padding: 80px 40px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
}

.no-character-icon {
  font-size: 64px;
  margin-bottom: 25px;
  color: var(--color-border);
  opacity: 0.7;
}

.no-character h2 {
  margin: 0 0 16px 0;
  color: var(--color-primary);
  font-size: 28px;
  font-weight: 700;
}

.no-character p {
  margin: 0 0 8px 0;
  color: var(--color-light);
  font-size: 16px;
  max-width: 400px;
  line-height: 1.5;
}

.no-character-hint {
  font-size: 13px;
  color: var(--color-gray);
  margin-top: 25px;
  font-style: italic;
  max-width: 400px;
}

/* ===== –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ ===== */
@media (max-width: 768px) {
  .gothic-header {
    flex-direction: column;
    gap: 15px;
    text-align: center;
  }
  
  .header-content {
    flex-direction: column;
    text-align: center;
  }
  
  .header-stats {
    justify-content: center;
  }
  
  .tabs-container {
    flex-wrap: wrap;
  }
  
  .gothic-tab-btn {
    flex: 1 0 calc(50% - 4px);
    padding: 12px 8px;
    font-size: 12px;
  }
  
  .gothic-tab-btn span {
    display: none;
  }
  
  .overview-grid {
    grid-template-columns: 1fr;
  }
  
  .chances-grid {
    grid-template-columns: 1fr;
  }
  
  .formula-breakdown {
    flex-direction: column;
  }
  
  .history-timeline {
    padding-left: 30px;
  }
  
  .timeline-marker {
    left: -30px;
    width: 30px;
  }
  
  .marker-icon {
    width: 24px;
    height: 24px;
    font-size: 10px;
  }
  
  .stress-levels-grid {
    grid-template-columns: 1fr;
  }
  
  .tip-cards {
    grid-template-columns: 1fr;
  }
}

/* ===== –°–ö–†–û–õ–õ–ë–ê–†–´ ===== */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(26, 26, 46, 0.5);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(to bottom, var(--color-primary), #8e44ad);
  border-radius: 4px;
  border: 2px solid transparent;
  background-clip: content-box;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(to bottom, var(--color-secondary), #c0392b);
  background-clip: content-box;
}

/* ===== –î–û–ë–ê–í–õ–ï–ù–ù–´–ï –°–¢–ò–õ–ò –î–õ–Ø –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô ===== */

/* –°—Ç–∏–ª–∏ –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤—ã—Ö —Ñ–æ—Ä–º */
.sanity-dialog-form {
  display: flex;
  flex-direction: column;
  gap: 20px;
  padding: 15px;
  background: linear-gradient(145deg, rgba(26, 26, 46, 0.8), rgba(15, 15, 26, 0.9));
  border: 1px solid rgba(155, 89, 182, 0.3);
  border-radius: var(--border-radius-lg);
  box-shadow: 
    inset 0 0 20px rgba(0, 0, 0, 0.5),
    0 4px 20px rgba(0, 0, 0, 0.8);
  position: relative;
  overflow: hidden;
}

.sanity-dialog-form::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, transparent, var(--color-primary), transparent);
}

.sanity-dialog-form .form-group {
  display: flex;
  flex-direction: column;
  gap: 8px;
  position: relative;
}

.sanity-dialog-form .form-group label {
  font-weight: 600;
  color: var(--color-primary);
  font-size: 13px;
  text-transform: uppercase;
  letter-spacing: 1px;
  display: flex;
  align-items: center;
  gap: 8px;
  font-family: 'Cinzel', serif;
}

.sanity-dialog-form .form-group label i {
  color: var(--color-gold);
  font-size: 12px;
}

.sanity-dialog-form .form-group input,
.sanity-dialog-form .form-group select,
.sanity-dialog-form .form-group textarea {
  background: rgba(0, 0, 0, 0.4);
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius-md);
  padding: 12px 15px;
  color: var(--color-light);
  font-family: 'Cinzel', serif;
  font-size: 13px;
  transition: var(--transition-normal);
  backdrop-filter: blur(5px);
}

.sanity-dialog-form .form-group input:hover,
.sanity-dialog-form .form-group select:hover,
.sanity-dialog-form .form-group textarea:hover {
  border-color: var(--color-primary);
  background: rgba(0, 0, 0, 0.6);
}

.sanity-dialog-form .form-group input:focus,
.sanity-dialog-form .form-group select:focus,
.sanity-dialog-form .form-group textarea:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 10px rgba(155, 89, 182, 0.5);
  background: rgba(0, 0, 0, 0.7);
}

.sanity-dialog-form .form-group input::placeholder,
.sanity-dialog-form .form-group textarea::placeholder {
  color: var(--color-gray);
  font-style: italic;
}

.sanity-dialog-form .warning {
  background: rgba(231, 76, 60, 0.1);
  border: 1px solid rgba(231, 76, 60, 0.3);
  border-radius: var(--border-radius-md);
  padding: 12px 15px;
  margin-top: 10px;
}

.sanity-dialog-form .warning p {
  margin: 0;
  font-size: 12px;
  color: var(--color-light);
  display: flex;
  align-items: flex-start;
  gap: 10px;
  line-height: 1.4;
}

.sanity-dialog-form .warning i {
  color: var(--color-secondary);
  font-size: 14px;
  flex-shrink: 0;
  margin-top: 1px;
}

/* –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø–æ–ª–µ–π */
.sanity-dialog-form input[type="number"] {
  text-align: center;
  font-weight: 600;
  letter-spacing: 1px;
}

.sanity-dialog-form input[type="number"]::-webkit-inner-spin-button,
.sanity-dialog-form input[type="number"]::-webkit-outer-spin-button {
  opacity: 0.7;
  cursor: pointer;
}

.sanity-dialog-form select {
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%239b59b6' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14L2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 15px center;
  background-size: 12px;
  padding-right: 35px;
  cursor: pointer;
}

.sanity-dialog-form textarea {
  min-height: 80px;
  resize: vertical;
  line-height: 1.5;
}

/* –ì—Ä—É–ø–ø–∞ –∫–Ω–æ–ø–æ–∫ –≤ —Ñ–æ—Ä–º–µ */
.sanity-dialog-form .form-buttons {
  display: flex;
  gap: 10px;
  margin-top: 10px;
  padding-top: 15px;
  border-top: 1px solid rgba(155, 89, 182, 0.2);
}

.sanity-dialog-form .form-buttons button {
  flex: 1;
  padding: 12px 20px;
  border-radius: var(--border-radius-md);
  font-family: 'Cinzel', serif;
  font-weight: 600;
  font-size: 13px;
  cursor: pointer;
  transition: var(--transition-normal);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  letter-spacing: 1px;
}

.sanity-dialog-form .form-buttons button.primary {
  background: var(--gradient-purple);
  border: 1px solid var(--color-primary);
  color: white;
}

.sanity-dialog-form .form-buttons button.primary:hover {
  background: var(--gradient-purple);
  border-color: var(--color-gold);
  transform: translateY(-2px);
  box-shadow: 0 0 15px rgba(155, 89, 182, 0.5);
}

.sanity-dialog-form .form-buttons button.secondary {
  background: rgba(52, 73, 94, 0.6);
  border: 1px solid var(--color-border);
  color: var(--color-light);
}

.sanity-dialog-form .form-buttons button.secondary:hover {
  background: rgba(52, 73, 94, 0.8);
  border-color: var(--color-primary);
  transform: translateY(-2px);
}

.sanity-dialog-form .form-buttons button.danger {
  background: rgba(231, 76, 60, 0.2);
  border: 1px solid var(--color-secondary);
  color: var(--color-secondary);
}

.sanity-dialog-form .form-buttons button.danger:hover {
  background: rgba(231, 76, 60, 0.4);
  transform: translateY(-2px);
  box-shadow: 0 0 10px rgba(231, 76, 60, 0.3);
}



/* –°—Ç–∏–ª–∏ –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Ñ–æ—Ä–º–∞—Ö 
  background: rgba(155, 89, 182, 0.1);
  border: 1px solid rgba(155, 89, 182, 0.3);
  border-radius: var(--border-radius-md);
  padding: 12px 15px;
  margin: 5px 0;
}

.sanity-dialog-form .info-message p {
  margin: 0;
  font-size: 12px;
  color: var(--color-light);
  display: flex;
  align-items: flex-start;
  gap: 10px;
  line-height: 1.4;
}

.sanity-dialog-form .info-message i {
  color: var(--color-primary);
  font-size: 14px;
  flex-shrink: 0;
  margin-top: 1px;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –≤–Ω—É—Ç—Ä–∏ —Ñ–æ—Ä–º 
.sanity-dialog-form .form-section-title {
  padding-bottom: 10px;
  margin-bottom: 15px;
  border-bottom: 1px solid rgba(155, 89, 182, 0.3);
}

.sanity-dialog-form .form-section-title h4 {
  margin: 0;
  color: var(--color-gold);
  font-size: 14px;
  text-transform: uppercase;
  letter-spacing: 2px;
  display: flex;
  align-items: center;
  gap: 10px;
  font-family: 'Cinzel', serif;
}

.sanity-dialog-form .form-section-title h4 i {
  color: var(--color-primary);
  font-size: 16px;
}*/

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤—ã—Ö —Ñ–æ—Ä–º 
@media (max-width: 768px) {
  .sanity-dialog-form {
    padding: 12px;
    gap: 15px;
  }
  
  .sanity-dialog-form .form-group input,
  .sanity-dialog-form .form-group select,
  .sanity-dialog-form .form-group textarea {
    padding: 10px 12px;
    font-size: 12px;
  }
  
  .sanity-dialog-form .form-buttons {
    flex-direction: column;
  }
  
  .sanity-dialog-form .form-buttons button {
    padding: 10px 15px;
    font-size: 12px;
  }
}*/


/* –ë–ª–æ–∫–∏ –¥–ª—è –¥–∞–π—Å–æ–≤ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –≤ –ø–∞–Ω–µ–ª–∏ DM */
.quick-actions-panel {
  background: rgba(15, 15, 26, 0.7);
  border: 1px solid rgba(155, 89, 182, 0.3);
  border-radius: var(--border-radius-lg);
  margin: 20px;
  padding: 20px;
}

.quick-actions-header {
  margin-bottom: 15px;
  padding-bottom: 10px;
  border-bottom: 1px solid rgba(155, 89, 182, 0.3);
}

.quick-actions-header h3 {
  margin: 0;
  color: var(--color-primary);
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 16px;
}

.quick-actions-grid {
  display: flex;
  gap: 10px;
  margin-bottom: 20px;
  flex-wrap: wrap;
}

.gothic-action-btn {
  background: rgba(52, 73, 94, 0.6);
  border: 1px solid var(--color-border);
  color: var(--color-light);
  padding: 12px 15px;
  border-radius: var(--border-radius-md);
  cursor: pointer;
  transition: var(--transition-normal);
  display: flex;
  align-items: center;
  gap: 8px;
  font-family: 'Cinzel', serif;
  font-weight: 600;
  flex: 1;
  min-width: 140px;
  justify-content: center;
}

.gothic-action-btn:hover {
  background: rgba(155, 89, 182, 0.8);
  border-color: var(--color-primary);
  transform: translateY(-2px);
  box-shadow: var(--glow-purple);
}

.gothic-action-btn i {
  font-size: 16px;
}

.damage-all-btn { 
  background: rgba(231, 76, 60, 0.2);
  border-color: var(--color-secondary);
  color: var(--color-secondary);
}

.heal-all-btn { 
  background: rgba(46, 204, 113, 0.2);
  border-color: var(--color-success);
  color: var(--color-success);
}

.reset-all-btn { 
  background: rgba(243, 156, 18, 0.2);
  border-color: var(--color-warning);
  color: var(--color-warning);
}

/* –ë—ã—Å—Ç—Ä–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ –ø–∞–Ω–µ–ª–∏ DM */
.quick-heal-panel {
  background: rgba(26, 26, 46, 0.5);
  border: 1px solid rgba(155, 89, 182, 0.2);
  border-radius: var(--border-radius-md);
  padding: 15px;
  margin-top: 15px;
}

.quick-heal-panel .dice-header {
  margin-bottom: 10px;
}

.quick-heal-panel .dice-header h4 {
  margin: 0;
  color: var(--color-light);
  font-size: 14px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.heal-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 8px;
}

.heal-action-btn {
  background: rgba(52, 73, 94, 0.5);
  border: 1px solid var(--color-border);
  color: var(--color-light);
  padding: 10px 5px;
  border-radius: var(--border-radius-sm);
  cursor: pointer;
  transition: var(--transition-fast);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 5px;
  font-size: 12px;
}

.heal-action-btn:hover {
  background: rgba(46, 204, 113, 0.8);
  border-color: var(--color-success);
  transform: translateY(-2px);
}

.heal-action-btn.full-heal-btn {
  background: rgba(46, 204, 113, 0.3);
  border-color: var(--color-success);
}

.heal-action-btn.full-heal-btn:hover {
  background: rgba(46, 204, 113, 0.8);
}

/* –ö–∞—Ä—Ç–æ—á–∫–∏ –∏–≥—Ä–æ–∫–æ–≤ –≤ –ø–∞–Ω–µ–ª–∏ DM */
.dm-content-wrapper {
  max-height: 400px;
  overflow-y: auto;
  padding: 0 20px 20px;
  margin: 0 20px 20px;
}

.players-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
  gap: 15px;
}

.gothic-player-card {
  background: linear-gradient(145deg, rgba(26, 26, 46, 0.8), rgba(15, 15, 26, 0.9));
  border: 1px solid rgba(155, 89, 182, 0.3);
  border-radius: var(--border-radius-lg);
  overflow: hidden;
  transition: var(--transition-normal);
}

.gothic-player-card:hover {
  border-color: rgba(155, 89, 182, 0.6);
  transform: translateY(-3px);
  box-shadow: var(--shadow-medium);
}

.player-card-header {
  display: flex;
  padding: 15px;
  gap: 15px;
  align-items: center;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  cursor: pointer;
}

.player-avatar {
  position: relative;
  width: 60px;
  height: 60px;
  flex-shrink: 0;
}

.player-avatar img {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid var(--color-primary);
}

.online-status {
  position: absolute;
  bottom: 0;
  right: 0;
  width: 14px;
  height: 14px;
  border-radius: 50%;
  border: 2px solid var(--color-dark);
}

.online-status.online {
  background: var(--color-success);
}

.online-status.offline {
  background: var(--color-gray);
}

.player-main-info {
  flex: 1;
  min-width: 0;
}

.player-name {
  margin: 0 0 5px 0;
  font-size: 16px;
  color: var(--color-light);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.player-user {
  margin: 0 0 8px 0;
  font-size: 12px;
  color: var(--color-gray);
  display: flex;
  align-items: center;
  gap: 5px;
}

.player-status {
  display: flex;
  gap: 10px;
  align-items: center;
}

.sanity-percent {
  font-size: 12px;
  font-weight: 600;
  padding: 3px 8px;
  border-radius: 12px;
}

.sanity-percent.danger { 
  background: rgba(231, 76, 60, 0.2);
  color: var(--color-secondary);
  border: 1px solid rgba(231, 76, 60, 0.4);
}

.sanity-percent.warning { 
  background: rgba(243, 156, 18, 0.2);
  color: var(--color-warning);
  border: 1px solid rgba(243, 156, 18, 0.4);
}

.sanity-percent.safe { 
  background: rgba(46, 204, 113, 0.2);
  color: var(--color-success);
  border: 1px solid rgba(46, 204, 113, 0.4);
}

.player-quick-controls {
  display: flex;
  gap: 5px;
}

.player-control-btn {
  background: rgba(52, 73, 94, 0.5);
  border: 1px solid var(--color-border);
  color: var(--color-gray);
  width: 30px;
  height: 30px;
  border-radius: 50%;
  cursor: pointer;
  transition: var(--transition-fast);
  display: flex;
  align-items: center;
  justify-content: center;
}

.player-control-btn:hover {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: white;
  transform: scale(1.1);
}

/* –®–∫–∞–ª–∞ —Ä–∞—Å—Å—É–¥–∫–∞ –≤ –∫–∞—Ä—Ç–æ—á–∫–µ */
.player-sanity-meter {
  padding: 10px 15px;
}

.sanity-bar-container {
  height: 20px;
  background: rgba(0, 0, 0, 0.3);
  border-radius: 10px;
  overflow: hidden;
  position: relative;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.sanity-bar {
  height: 100%;
  position: relative;
  transition: width 0.5s ease;
}

.sanity-bar-glow {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(90deg, 
    transparent 0%,
    rgba(255, 255, 255, 0.2) 50%,
    transparent 100%
  );
  animation: shimmer 2s infinite;
}

.sanity-text {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  font-weight: 600;
  color: white;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
}

/* –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è */
.player-details-panel {
  padding: 15px;
  background: rgba(0, 0, 0, 0.2);
  border-top: 1px solid rgba(255, 255, 255, 0.05);
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease;
}

.gothic-player-card.expanded .player-details-panel {
  max-height: 500px;
}

.toggle-icon {
  transition: transform 0.3s ease;
}

.gothic-player-card.expanded .toggle-icon {
  transform: rotate(180deg);
}

.details-section {
  margin-bottom: 15px;
}

.details-section h5 {
  margin: 0 0 10px 0;
  color: var(--color-primary);
  font-size: 13px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.details-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
}

.detail-item {
  display: flex;
  justify-content: space-between;
  padding: 6px 8px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: var(--border-radius-sm);
  font-size: 12px;
}

.detail-label {
  color: var(--color-gray);
}

.detail-value {
  color: var(--color-light);
  font-weight: 600;
}

/* –ú–∏–Ω–∏-—Å–ø–∏—Å–∫–∏ */
.conditions-mini-list,
.history-mini-list {
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.mini-condition-item,
.mini-history-item {
  background: rgba(0, 0, 0, 0.2);
  border-radius: var(--border-radius-sm);
  padding: 6px 8px;
  font-size: 11px;
}

.mini-condition-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.mini-condition-name {
  flex: 1;
  color: var(--color-light);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.mini-condition-tier {
  padding: 2px 6px;
  border-radius: 10px;
  font-size: 10px;
  font-weight: 600;
  margin: 0 8px;
}

.mini-condition-item.psychosis .mini-condition-tier {
  background: rgba(231, 76, 60, 0.2);
  color: var(--color-secondary);
  border: 1px solid rgba(231, 76, 60, 0.4);
}

.mini-condition-item.inspiration .mini-condition-tier {
  background: rgba(46, 204, 113, 0.2);
  color: var(--color-success);
  border: 1px solid rgba(46, 204, 113, 0.4);
}

.remove-condition-btn {
  background: transparent;
  border: none;
  color: var(--color-gray);
  width: 16px;
  height: 16px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 10px;
}

.remove-condition-btn:hover {
  color: var(--color-secondary);
}

.mini-history-item {
  display: flex;
  justify-content: space-between;
}

.history-change {
  color: var(--color-light);
  font-weight: 600;
}

.history-date {
  color: var(--color-gray);
  font-size: 10px;
}

/* –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ - —Ñ–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫ */
.library-filters {
  background: rgba(15, 15, 26, 0.7);
  border-bottom: 1px solid rgba(155, 89, 182, 0.3);
  padding: 15px 20px;
}

.search-container {
  position: relative;
  margin-bottom: 15px;
  display: flex;
  gap: 5px;
}

.search-icon {
  position: absolute;
  left: 12px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--color-gray);
  font-size: 14px;
}

.search-input {
  flex: 1;
  padding: 10px 35px 10px 35px;
  background: rgba(0, 0, 0, 0.4);
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius-md);
  color: var(--color-light);
  font-family: 'Cinzel', serif;
  min-width: 200px;
}

.search-input:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 5px rgba(155, 89, 182, 0.5);
}

.search-btn,
.search-clear {
  background: rgba(52, 73, 94, 0.6);
  border: 1px solid var(--color-border);
  color: var(--color-light);
  width: 32px;
  height: 32px;
  border-radius: var(--border-radius-sm);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.search-btn:hover {
  background: rgba(46, 204, 113, 0.6);
  border-color: var(--color-success);
}

.search-clear:hover {
  background: rgba(231, 76, 60, 0.6);
  border-color: var(--color-secondary);
}

.tier-filters {
  display: flex;
  align-items: center;
  gap: 15px;
}

.tier-label {
  display: flex;
  align-items: center;
  gap: 8px;
  color: var(--color-light);
  font-size: 13px;
  font-weight: 600;
}

.tier-buttons {
  display: flex;
  gap: 5px;
}

.tier-filter-btn {
  background: rgba(52, 73, 94, 0.5);
  border: 1px solid var(--color-border);
  color: var(--color-light);
  padding: 6px 12px;
  border-radius: var(--border-radius-sm);
  cursor: pointer;
  transition: var(--transition-fast);
  font-size: 12px;
  display: flex;
  align-items: center;
  gap: 5px;
}

.tier-filter-btn:hover {
  background: rgba(155, 89, 182, 0.5);
  border-color: var(--color-primary);
}

.tier-filter-btn.active {
  background: var(--gradient-purple);
  border-color: var(--color-primary);
  color: white;
}

.tier-count {
  font-size: 10px;
  opacity: 0.8;
}

/* –ó–∞–≥–æ–ª–æ–≤–∫–∏ —Å–µ–∫—Ü–∏–π */
.players-list-header,
.library-filters h3 {
  padding: 15px 20px;
  margin: 0;
  color: var(--color-primary);
  font-size: 16px;
  border-bottom: 1px solid rgba(155, 89, 182, 0.2);
  background: rgba(15, 15, 26, 0.5);
}

/* –ü–æ–¥–≤–∞–ª—ã –ø–∞–Ω–µ–ª–µ–π */
.panel-footer {
  background: rgba(15, 15, 26, 0.8);
  border-top: 1px solid rgba(155, 89, 182, 0.3);
  padding: 10px 20px;
  flex-shrink: 0;
  margin-top: auto;
}

.footer-info {
  text-align: center;
}

.footer-info p {
  margin: 0;
  font-size: 12px;
  color: var(--color-gray);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  flex-wrap: wrap;
}

.footer-info i {
  color: var(--color-primary);
}

/* –ò–∫–æ–Ω–∫–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö */
.dm-icon, .library-icon {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background: var(--gradient-purple);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 32px;
  color: white;
  border: 3px solid var(--color-primary);
  box-shadow: var(--shadow-medium);
}

/* –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å—Ç–∏–ª–∏ –æ–∫–æ–Ω Foundry */
.window-app.sanity-player-panel,
.window-app.sanity-library-panel,
.window-app.sanity-dm-panel {
  min-width: 300px;
  min-height: 300px;
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞ */
.gothic-content {
  max-height: calc(100vh - 300px);
  overflow-y: auto;
  padding-bottom: 20px;
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫ –¥–ª—è –≤—Å–µ—Ö –ø–∞–Ω–µ–ª–µ–π */
.gothic-tab-btn {
  cursor: pointer;
  user-select: none;
  min-width: 120px;
}

.gothic-tab-btn.active {
  pointer-events: none;
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫ */
.tab-content {
  animation: fadeIn 0.3s ease;
}

/* –§–∏–∫—Å –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ */
.gothic-header {
  flex-shrink: 0;
}

/* –£–ª—É—á—à–µ–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
.gothic-tab-btn.active {
  background: linear-gradient(145deg, rgba(155, 89, 182, 0.8), rgba(139, 78, 163, 0.9));
  border-bottom: 3px solid var(--color-primary);
  box-shadow: 0 0 10px rgba(155, 89, 182, 0.5);
}

/* –£–ª—É—á—à–µ–Ω–∏–µ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–æ–≤ –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
.gothic-content::-webkit-scrollbar {
  width: 10px;
}

.gothic-content::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 5px;
}

.gothic-content::-webkit-scrollbar-thumb {
  background: linear-gradient(to bottom, var(--color-primary), #8e44ad);
  border-radius: 5px;
}

.gothic-content::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(to bottom, var(--color-secondary), #c0392b);
}

/* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
@media (max-width: 768px) {
  .players-grid {
    grid-template-columns: 1fr;
    gap: 10px;
  }
  
  .gothic-action-btn {
    min-width: 100%;
  }
  
  .heal-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .search-container {
    flex-direction: column;
  }
  
  .search-input {
    width: 100%;
  }
  
  .tier-filters {
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
  }
  
  .tier-buttons {
    width: 100%;
    justify-content: space-between;
  }
  
  .dm-content-wrapper {
    margin: 0 10px 10px;
    padding: 0 10px 10px;
  }
  
  .quick-actions-panel {
    margin: 10px;
    padding: 15px;
  }
}

/* –ò–°–ü–†–ê–í–õ–Ø–ï–ú –ü–†–ò–õ–ò–ü–ê–ù–ò–ï*/
/* ===== –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –î–õ–Ø –ü–û–ó–ò–¶–ò–û–ù–ò–†–û–í–ê–ù–ò–Ø ===== */

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –æ–∫–æ–Ω Foundry V13 */
.window-app.sanity-system {
  position: fixed !important;
  min-width: 300px !important;
  max-width: 95vw !important;
  max-height: 95vh !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–∏–ø–∞–Ω–∏—è –∫ –ø—Ä–∞–≤–æ–º—É –∫—Ä–∞—é */
.sanity-dm-panel.gothic-panel,
.sanity-library-panel.gothic-panel,
.sanity-player-panel.gothic-panel {
  position: relative !important;
  left: auto !important;
  right: auto !important;
  margin: 0 auto !important;
  width: 100% !important;
  height: 100% !important;
  display: flex !important;
  flex-direction: column !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
.gothic-content {
  flex: 1 !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  min-height: 0 !important; /* –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è flexbox */
  max-height: calc(100vh - 200px) !important;
  padding: 15px !important;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –ø–∞–Ω–µ–ª–µ–π */
.sanity-player-panel .gothic-content,
.sanity-library-panel .gothic-content,
.sanity-dm-panel .gothic-content {
  height: auto !important;
  max-height: none !important;
}

/* –§–∏–∫—Å –¥–ª—è —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö */
.tab-content {
  height: 100% !important;
  display: flex !important;
  flex-direction: column !important;
}

.tab-content.active {
  display: flex !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è —Å–µ—Ç–æ–∫ */
.overview-grid {
  display: grid !important;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)) !important;
  gap: 15px !important;
  flex: 1 !important;
  overflow-y: visible !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –∏–≥—Ä–æ–∫–æ–≤ –≤ DM –ø–∞–Ω–µ–ª–∏ */
.players-grid {
  display: grid !important;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)) !important;
  gap: 15px !important;
  overflow-y: visible !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ */
.conditions-container {
  display: grid !important;
  grid-template-columns: 1fr !important;
  gap: 15px !important;
  overflow-y: visible !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ */
.history-timeline {
  max-height: 400px !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  padding: 10px !important;
}

/* –£–¥–∞–ª—è–µ–º —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤—ã—Å–æ—Ç—ã, –º–µ—à–∞—é—â–∏–µ —Å–∫—Ä–æ–ª–ª–∏–Ω–≥—É */
.gothic-player-card,
.gothic-condition-card,
.gothic-card {
  max-height: none !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π */
.condition-details {
  max-height: 300px !important;
  overflow-y: auto !important;
}

/* –ò–°–ü–†–ê–í–õ–Ø–ï–ú –°–ö–†–û–õ–õ–ò–ù–ì*/
/* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞ */
.sanity-system .window-content {
  overflow: hidden !important;
  display: flex !important;
  flex-direction: column !important;
  padding: 0 !important;
}

/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø–∞–Ω–µ–ª–∏ */
.gothic-header {
  flex-shrink: 0 !important;
}

/* –í–∫–ª–∞–¥–∫–∏ */
.gothic-tabs {
  flex-shrink: 0 !important;
}

/* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–æ–º */
.gothic-content {
  flex: 1 1 auto !important;
  min-height: 0 !important;
  overflow-y: auto !important;
  padding: 20px !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è —Å–∫—Ä–æ–ª–ª–∞ –≤ —Ç–∞–±–∞—Ö */
.tab-content {
  height: 100% !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
}

/* –£–ª—É—á—à–µ–Ω–Ω—ã–π —Å–∫—Ä–æ–ª–ª–±–∞—Ä –¥–ª—è Foundry */
.gothic-content::-webkit-scrollbar {
  width: 10px !important;
}

.gothic-content::-webkit-scrollbar-track {
  background: rgba(26, 26, 46, 0.3) !important;
  border-radius: 5px !important;
}

.gothic-content::-webkit-scrollbar-thumb {
  background: linear-gradient(to bottom, var(--color-primary), #8e44ad) !important;
  border-radius: 5px !important;
  border: 2px solid rgba(26, 26, 46, 0.5) !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤–Ω—É—Ç—Ä–∏ */
.dm-content-wrapper {
  max-height: calc(100vh - 350px) !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  padding: 0 15px 15px !important;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
@media (max-width: 768px) {
  .gothic-content {
    padding: 10px !important;
  }
  
  .dm-content-wrapper {
    max-height: calc(100vh - 300px) !important;
    padding: 0 10px 10px !important;
  }
  
  .players-grid {
    grid-template-columns: 1fr !important;
    gap: 10px !important;
  }
}

/* ===== –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –î–õ–Ø –†–ê–°–ö–†–´–¢–ò–Ø –ö–ê–†–¢–û–ß–ï–ö ===== */

/* –ê–Ω–∏–º–∞—Ü–∏—è —Ä–∞—Å–∫—Ä—ã—Ç–∏—è */
.player-details-panel {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease-out;
  padding: 0 15px;
}

.gothic-player-card.expanded .player-details-panel {
  max-height: 500px;
  padding: 15px;
  overflow-y: auto;
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –∫–Ω–æ–ø–∫–∏ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è */
.player-control-btn.toggle-details-btn {
  transition: transform 0.3s ease;
}

.gothic-player-card.expanded .player-control-btn.toggle-details-btn {
  transform: rotate(180deg);
}
/* ===== –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –î–õ–Ø –ü–û–ó–ò–¶–ò–û–ù–ò–†–û–í–ê–ù–ò–Ø - –í–ï–†–°–ò–Ø 2 ===== */

/* –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π Foundry –¥–ª—è –Ω–∞—à–∏—Ö –ø–∞–Ω–µ–ª–µ–π */
.window-app.sanity-player-panel,
.window-app.sanity-library-panel,
.window-app.sanity-dm-panel {
  position: absolute !important;
  transform: none !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) !important;
  width: auto !important;
  height: auto !important;
  min-width: 300px !important;
  max-width: 90vw !important;
  max-height: 90vh !important;
}

/* –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã */
.sanity-player-panel,
.sanity-library-panel,
.sanity-dm-panel {
  width: 100% !important;
  height: 100% !important;
  display: flex !important;
  flex-direction: column !important;
  position: relative !important;
}

/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ –æ–∫–Ω–∞ Foundry */
.sanity-system .window-header {
  flex-shrink: 0 !important;
}

/* –ö–æ–Ω—Ç–µ–Ω—Ç –æ–∫–Ω–∞ Foundry */
.sanity-system .window-content {
  flex: 1 !important;
  display: flex !important;
  flex-direction: column !important;
  overflow: hidden !important;
  padding: 0 !important;
  background: transparent !important;
}

/* –ù–∞—à–∏ –ø–∞–Ω–µ–ª–∏ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
.sanity-system .window-content > .gothic-panel {
  flex: 1 !important;
  display: flex !important;
  flex-direction: column !important;
  overflow: hidden !important;
  width: 100% !important;
  height: 100% !important;
}

/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–∞—à–µ–π –ø–∞–Ω–µ–ª–∏ */
.gothic-header {
  flex-shrink: 0 !important;
}

/* –í–∫–ª–∞–¥–∫–∏ */
.gothic-tabs {
  flex-shrink: 0 !important;
}

/* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–æ–º */
.gothic-content {
  flex: 1 !important;
  min-height: 0 !important;
  overflow: hidden !important;
  display: flex !important;
  flex-direction: column !important;
}

/* –ê–∫—Ç–∏–≤–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞ */
.tab-content.active {
  flex: 1 !important;
  display: flex !important;
  flex-direction: column !important;
  min-height: 0 !important;
  overflow: hidden !important;
}

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤–Ω—É—Ç—Ä–∏ –≤–∫–ª–∞–¥–æ–∫ */
.overview-grid,
.conditions-container,
.history-timeline,
.info-container {
  flex: 1 !important;
  min-height: 0 !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  padding: 5px !important;
}

/* DM –ø–∞–Ω–µ–ª—å —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Å—Ç–∏–ª–∏ */
.sanity-dm-panel .dm-content-wrapper {
  flex: 1 !important;
  min-height: 0 !important;
  overflow-y: auto !important;
  padding: 10px !important;
  margin: 0 !important;
}

/* –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Å—Ç–∏–ª–∏ */
.sanity-library-panel .tab-content[data-tab="content"] {
  padding: 10px !important;
}

/* –§–∏–∫—Å –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ */
.gothic-player-card,
.gothic-condition-card {
  max-height: none !important;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
@media (max-width: 768px) {
  .window-app.sanity-player-panel,
  .window-app.sanity-library-panel,
  .window-app.sanity-dm-panel {
    width: 95vw !important;
    height: 95vh !important;
  }
  
  .gothic-content {
    padding: 5px !important;
  }
}
/* ===== –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –î–õ–Ø –ë–ò–ë–õ–ò–û–¢–ï–ö–ò ===== */

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ —Å–æ—Å—Ç–æ—è–Ω–∏–π –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ */
.sanity-library-panel .gothic-condition-card {
  max-height: 200px !important;
  transition: max-height 0.3s ease !important;
  overflow: hidden !important;
}

.sanity-library-panel .gothic-condition-card.expanded {
  max-height: 500px !important;
}

/* –¢–µ–∫—Å—Ç –æ–ø–∏—Å–∞–Ω–∏—è */
.condition-description {
  white-space: pre-wrap !important;
  word-wrap: break-word !important;
  max-height: 200px !important;
  overflow-y: auto !important;
  padding-right: 5px !important;
}

/* –î–µ—Ç–∞–ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è */
.condition-details {
  max-height: 0 !important;
  overflow: hidden !important;
  transition: max-height 0.3s ease !important;
  padding: 0 !important;
}

.gothic-condition-card.expanded .condition-details {
  max-height: 400px !important;
  padding: 15px 0 0 0 !important;
  margin-top: 15px !important;
  border-top: 1px solid rgba(255, 255, 255, 0.1) !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫—Ä–æ–ª–ª–∞ –≤ –¥–µ—Ç–∞–ª—è—Ö */
.details-content {
  max-height: 350px !important;
  overflow-y: auto !important;
}

/* ===== –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –î–õ–Ø –í–ö–õ–ê–î–û–ö –ò–ì–†–û–ö–ê ===== */

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–∫–ª–∞–¥–æ–∫ */
.sanity-player-panel .gothic-content {
  position: relative !important;
  min-height: 400px !important;
}

/* –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∫–ª–∞–¥–æ–∫ */
.sanity-player-panel .tab-content {
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  padding: 20px !important;
  overflow-y: auto !important;
  display: none !important;
}

.sanity-player-panel .tab-content.active {
  display: block !important;
  position: relative !important;
}

/* –û–±–∑–æ—Ä */
.sanity-player-panel .overview-grid {
  display: grid !important;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)) !important;
  gap: 20px !important;
  height: auto !important;
}

/* –°–æ—Å—Ç–æ—è–Ω–∏—è */
.sanity-player-panel .conditions-container {
  display: flex !important;
  flex-direction: column !important;
  gap: 15px !important;
  height: auto !important;
}

/* –ò—Å—Ç–æ—Ä–∏—è */
.sanity-player-panel .history-timeline {
  max-height: 500px !important;
  overflow-y: auto !important;
}

/* –°–ø—Ä–∞–≤–∫–∞ */
.sanity-player-panel .info-container {
  max-height: 500px !important;
  overflow-y: auto !important;
}

/* ===== –û–ö–û–ù–ß–ê–¢–ï–õ–¨–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ü–û–ó–ò–¶–ò–û–ù–ò–†–û–í–ê–ù–ò–Ø ===== */

/* –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π Foundry */
.window-app.sanity-system {
  position: fixed !important;
}

/* –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–∫–æ–Ω */
#sanity-player-panel,
#sanity-library-panel,
#sanity-dm-panel {
  position: fixed !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) !important;
  margin: 0 !important;
}

/* –£–±–∏—Ä–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ Foundry */
#sanity-player-panel .window-content,
#sanity-library-panel .window-content,
#sanity-dm-panel .window-content {
  overflow: hidden !important;
  padding: 0 !important;
}

/* –ù–∞—à–∏ –ø–∞–Ω–µ–ª–∏ */
.sanity-player-panel,
.sanity-library-panel,
.sanity-dm-panel {
  width: 100% !important;
  height: 100% !important;
  display: flex !important;
  flex-direction: column !important;
}

/* ===== –ù–û–í–´–ï –°–¢–ò–õ–ò –î–õ–Ø DM –ü–ê–ù–ï–õ–ò ===== */

/* –í–∫–ª–∞–¥–∫–∏ –º–∞—Å—Ç–µ—Ä–∞ */
.dm-tabs {
  display: flex;
  background: rgba(15, 15, 26, 0.8);
  border-bottom: 1px solid rgba(155, 89, 182, 0.3);
  padding: 0;
  margin: 0 20px;
}

.dm-tab-btn {
  flex: 1;
  background: transparent;
  border: none;
  border-bottom: 3px solid transparent;
  color: var(--color-gray);
  padding: 12px 20px;
  cursor: pointer;
  font-size: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  transition: var(--transition-normal);
  font-family: 'Cinzel', serif;
  font-weight: 600;
}

.dm-tab-btn:hover {
  color: var(--color-light);
  background: rgba(26, 26, 46, 0.5);
}

.dm-tab-btn.active {
  color: var(--color-primary);
  border-bottom-color: var(--color-primary);
  background: rgba(26, 26, 46, 0.8);
}

/* –í—ã–±–æ—Ä –∏–≥—Ä–æ–∫–∞ */
.player-view-tab {
  flex: 1;
  display: flex;
  flex-direction: column;
  padding: 20px;
  overflow: hidden;
}

.player-selector {
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(155, 89, 182, 0.3);
  border-radius: var(--border-radius-lg);
  padding: 20px;
  margin-bottom: 20px;
}

.selector-header {
  margin-bottom: 15px;
}

.selector-header h3 {
  margin: 0;
  color: var(--color-primary);
  font-size: 18px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.selector-controls {
  display: flex;
  gap: 10px;
}

.player-select-dropdown {
  flex: 1;
  background: rgba(0, 0, 0, 0.4);
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius-md);
  padding: 10px 15px;
  color: var(--color-light);
  font-family: 'Cinzel', serif;
  font-size: 14px;
  min-width: 200px;
}

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ */
.player-view-container {
  flex: 1;
  overflow-y: auto;
  min-height: 400px;
}

.loading-state, .error-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 200px;
  color: var(--color-gray);
}

.loading-state i, .error-state i {
  font-size: 48px;
  margin-bottom: 15px;
}

/* –ö–æ–Ω—Ç–µ–Ω—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–≥—Ä–æ–∫–∞ */
.player-view-content {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.player-view-header {
  display: flex;
  align-items: center;
  gap: 20px;
  background: linear-gradient(145deg, rgba(26, 26, 46, 0.8), rgba(15, 15, 26, 0.9));
  border: 1px solid rgba(155, 89, 182, 0.3);
  border-radius: var(--border-radius-lg);
  padding: 20px;
}

.player-view-avatar {
  position: relative;
  width: 80px;
  height: 80px;
  flex-shrink: 0;
}

.player-view-avatar img {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid var(--color-primary);
}

.player-status-indicator {
  position: absolute;
  bottom: 5px;
  right: 5px;
  width: 15px;
  height: 15px;
  border-radius: 50%;
  border: 2px solid var(--color-dark);
}

.player-status-indicator.online {
  background: var(--color-success);
}

.player-status-indicator.offline {
  background: var(--color-gray);
}

.player-view-info {
  flex: 1;
}

.player-view-info h3 {
  margin: 0 0 5px 0;
  color: var(--color-light);
  font-size: 22px;
}

.player-user {
  margin: 0 0 15px 0;
  color: var(--color-gray);
  font-size: 14px;
}

.player-stats {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.stat-badge {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  background: rgba(0, 0, 0, 0.3);
  border-radius: 20px;
  font-size: 12px;
  font-weight: 600;
  color: var(--color-light);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.stat-badge i {
  color: var(--color-primary);
}

/* –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è */
.player-quick-actions {
  display: flex;
  gap: 10px;
  padding: 15px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: var(--border-radius-lg);
  border: 1px solid rgba(155, 89, 182, 0.2);
}

.action-btn {
  flex: 1;
  padding: 12px 15px;
  background: rgba(52, 73, 94, 0.6);
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius-md);
  color: var(--color-light);
  cursor: pointer;
  transition: var(--transition-normal);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  font-family: 'Cinzel', serif;
  font-weight: 600;
}

.action-btn:hover {
  background: rgba(155, 89, 182, 0.8);
  border-color: var(--color-primary);
  transform: translateY(-2px);
}

.action-btn.damage-btn {
  background: rgba(231, 76, 60, 0.2);
  border-color: var(--color-secondary);
  color: var(--color-secondary);
}

.action-btn.heal-btn {
  background: rgba(46, 204, 113, 0.2);
  border-color: var(--color-success);
  color: var(--color-success);
}

.action-btn.reset-btn {
  background: rgba(243, 156, 18, 0.2);
  border-color: var(--color-warning);
  color: var(--color-warning);
}

/* –í–∫–ª–∞–¥–∫–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ */
.player-view-tabs {
  display: flex;
  background: rgba(15, 15, 26, 0.8);
  border-radius: var(--border-radius-md);
  border: 1px solid rgba(155, 89, 182, 0.3);
  overflow: hidden;
}

.view-tab-btn {
  flex: 1;
  padding: 12px 20px;
  background: transparent;
  border: none;
  color: var(--color-gray);
  cursor: pointer;
  font-family: 'Cinzel', serif;
  font-weight: 600;
  font-size: 13px;
  transition: var(--transition-normal);
  border-right: 1px solid rgba(155, 89, 182, 0.3);
}

.view-tab-btn:last-child {
  border-right: none;
}

.view-tab-btn:hover {
  background: rgba(26, 26, 46, 0.5);
  color: var(--color-light);
}

.view-tab-btn.active {
  background: rgba(155, 89, 182, 0.3);
  color: var(--color-primary);
}

/* –ö–æ–Ω—Ç–µ–Ω—Ç –≤–∫–ª–∞–¥–æ–∫ */
.player-view-tab-content {
  flex: 1;
  min-height: 300px;
  overflow: hidden;
}

.view-tab-pane {
  display: none;
  height: 100%;
  overflow-y: auto;
  padding: 10px;
}

.view-tab-pane.active {
  display: block;
}

/* –ö–∞—Ä—Ç–æ—á–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π */
.view-condition-card {
  background: linear-gradient(145deg, rgba(26, 26, 46, 0.8), rgba(15, 15, 26, 0.9));
  border: 1px solid;
  border-radius: var(--border-radius-lg);
  padding: 15px;
  margin-bottom: 10px;
}

.view-condition-card.psychosis {
  border-color: rgba(231, 76, 60, 0.4);
}

.view-condition-card.inspiration {
  border-color: rgba(46, 204, 113, 0.4);
}

.condition-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.condition-header h4 {
  margin: 0;
  color: var(--color-light);
  font-size: 16px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.condition-tier {
  padding: 4px 8px;
  background: rgba(0, 0, 0, 0.3);
  border-radius: 12px;
  font-size: 11px;
  font-weight: 600;
  color: var(--color-light);
}

.condition-description {
  margin-bottom: 10px;
  color: var(--color-gray);
  font-size: 13px;
  line-height: 1.5;
}

.condition-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: 10px;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.condition-type {
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
}

.condition-type.psychosis {
  background: rgba(231, 76, 60, 0.2);
  color: var(--color-secondary);
  border: 1px solid rgba(231, 76, 60, 0.4);
}

.condition-type.inspiration {
  background: rgba(46, 204, 113, 0.2);
  color: var(--color-success);
  border: 1px solid rgba(46, 204, 113, 0.4);
}

.remove-condition-btn {
  background: rgba(231, 76, 60, 0.2);
  border: 1px solid rgba(231, 76, 60, 0.4);
  color: var(--color-secondary);
  padding: 4px 10px;
  border-radius: 4px;
  font-size: 11px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 5px;
  transition: var(--transition-fast);
}

.remove-condition-btn:hover {
  background: rgba(231, 76, 60, 0.4);
}

/* –ò—Å—Ç–æ—Ä–∏—è */
.history-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.history-item {
  background: rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(155, 89, 182, 0.2);
  border-radius: var(--border-radius-md);
  padding: 12px;
}

.history-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.history-change {
  font-weight: 600;
  color: var(--color-primary);
  font-size: 14px;
}

.history-time {
  font-size: 11px;
  color: var(--color-gray);
}

.history-reason {
  margin: 5px 0;
  font-size: 12px;
  color: var(--color-light);
  font-style: italic;
}

.history-condition {
  margin-top: 5px;
  padding: 6px 10px;
  background: rgba(0, 0, 0, 0.3);
  border-radius: var(--border-radius-sm);
  font-size: 11px;
  color: var(--color-gray);
}

/* –î–µ—Ç–∞–ª–∏ */
.details-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 15px;
}

.detail-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: var(--border-radius-md);
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.detail-label {
  font-size: 12px;
  color: var(--color-gray);
}

.detail-value {
  font-weight: 600;
  color: var(--color-light);
  font-size: 14px;
}

.empty-message {
  text-align: center;
  padding: 40px 20px;
  color: var(--color-gray);
  font-style: italic;
}
/* ===== –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –î–õ–Ø –ü–ï–†–ï–¢–ê–°–ö–ò–í–ê–ù–ò–Ø ===== */

/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ –æ–∫–Ω–∞ Foundry –¥–ª—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è 
.sanity-system .window-header {
  cursor: move !important;
  user-select: none !important;
}*/

/* –£–±–∏—Ä–∞–µ–º –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ 
.sanity-system .window-content {
  cursor: default !important;
}*/

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –ø–∞–Ω–µ–ª–µ–π –≤–Ω—É—Ç—Ä–∏ –æ–∫–Ω–∞ 
.sanity-dm-panel,
.sanity-library-panel,
.sanity-player-panel {
  pointer-events: auto !important;
  user-select: text !important;
}*/

/* –ö–Ω–æ–ø–∫–∏ –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã */
.gothic-btn,
.dm-tab-btn,
.player-control-btn,
.action-btn,
.view-tab-btn {
  cursor: pointer !important;
  pointer-events: auto !important;
}

/* –ó–∞–ø—Ä–µ—â–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ 
.window-app.sanity-system .window-title {
  user-select: none !important;
}*/

/* ===== –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –î–õ–Ø –ü–ï–†–ï–¢–ê–°–ö–ò–í–ê–ù–ò–Ø –û–ö–û–ù ===== */

/* –†–∞–∑—Ä–µ—à–∞–µ–º –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ Foundry */
.sanity-system .window-header {
  cursor: grab !important;
}

.sanity-system .window-header:active {
  cursor: grabbing !important;
}

/* –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ –Ω–∞—à–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏—è */
.sanity-dm-panel.gothic-panel,
.sanity-library-panel.gothic-panel,
.sanity-player-panel.gothic-panel {
  pointer-events: none !important;
}

/* –ù–æ —ç–ª–µ–º–µ–Ω—Ç—ã –≤–Ω—É—Ç—Ä–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã */
.sanity-dm-panel.gothic-panel *,
.sanity-library-panel.gothic-panel *,
.sanity-player-panel.gothic-panel * {
  pointer-events: auto !important;
}

/* –£–±–∏—Ä–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏ */
.sanity-system .window-header * {
  user-select: none !important;
}


/* ===== –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –î–õ–Ø –í–ö–õ–ê–î–û–ö DM –ü–ê–ù–ï–õ–ò ===== */

/* –°–∫—Ä—ã–≤–∞–µ–º –ø–∞–Ω–µ–ª—å –≤—ã–±–æ—Ä–∞ –Ω–∞ –≤–∫–ª–∞–¥–∫–µ "–í—Å–µ –∏–≥—Ä–æ–∫–∏" */
.dm-content-wrapper .player-selector {
  display: none !important;
}

/* –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–∞–Ω–µ–ª—å –≤—ã–±–æ—Ä–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ –≤–∫–ª–∞–¥–∫–µ "–ü—Ä–æ—Å–º–æ—Ç—Ä –∏–≥—Ä–æ–∫–∞" */
.player-view-tab .player-selector {
  display: block !important;
}

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–∞ */
.player-view-container {
  margin-top: 20px;
  border: 1px solid rgba(155, 89, 182, 0.3);
  border-radius: var(--border-radius-lg);
  padding: 20px;
  background: rgba(0, 0, 0, 0.2);
  min-height: 400px;
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π */
.quick-actions-panel {
  margin: 20px;
}

/* –£–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã */
.dm-content-wrapper {
  padding: 0 20px 20px !important;
}

/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–ø–∏—Å–∫–∞ –∏–≥—Ä–æ–∫–æ–≤ */
.players-list-header {
  padding: 15px 0 !important;
  margin: 0 0 15px 0 !important;
  border-bottom: 1px solid rgba(155, 89, 182, 0.2) !important;
}


/* ===== –ö–ù–û–ü–ö–ò –í–´–ó–û–í–ê –ü–ê–ù–ï–õ–ï–ô ===== */

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–Ω–æ–ø–æ–∫ –≤ –ª–µ–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É */
.sanity-system-buttons {
  position: fixed;
  top: 100px;
  left: 10px;
  z-index: 999;
  display: flex;
  flex-direction: column;
  gap: 10px;
  background: rgba(0, 0, 0, 0.7);
  padding: 10px;
  border-radius: var(--border-radius-lg);
  border: 1px solid var(--color-primary);
  box-shadow: var(--shadow-large);
  backdrop-filter: blur(5px);
}

/* –û—Ç–¥–µ–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ */
.sanity-system-btn {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: var(--gradient-purple);
  border: 2px solid var(--color-primary);
  color: white;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  transition: all 0.3s ease;
  position: relative;
}

.sanity-system-btn:hover {
  transform: scale(1.1);
  box-shadow: var(--glow-purple);
}

.sanity-system-btn.active {
  background: var(--gradient-red);
  border-color: var(--color-secondary);
}

/* –ü–æ–¥—Å–∫–∞–∑–∫–∏ */
.sanity-system-btn::after {
  content: attr(title);
  position: absolute;
  left: 50px;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(0, 0, 0, 0.9);
  color: white;
  padding: 5px 10px;
  border-radius: var(--border-radius-sm);
  font-size: 12px;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease;
  z-index: 1000;
}

.sanity-system-btn:hover::after {
  opacity: 1;
}

/* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ */
.sanity-system-btn-indicator {
  position: absolute;
  top: -5px;
  right: -5px;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: var(--color-success);
  border: 2px solid var(--color-dark);
  display: none;
}

.sanity-system-btn.active .sanity-system-btn-indicator {
  display: block;
}

/* ===== –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ –î–õ–Ø –ù–û–í–û–ì–û –ü–û–ó–ò–¶–ò–û–ù–ò–†–û–í–ê–ù–ò–Ø ===== */

/* –°–º–µ—â–µ–Ω–∏–µ –ø–∞–Ω–µ–ª–µ–π —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–ª–∏—Å—å */
#sanity-player-panel {
  left: 50px !important;
}

#sanity-dm-panel {
  left: 70px !important;
}

#sanity-library-panel {
  left: 90px !important;
}

/* –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ - –Ω–µ–º–Ω–æ–≥–æ —Å–¥–≤–∏–≥–∞–µ–º –¥–ª—è –≤–∏–¥–∏–º–æ—Å—Ç–∏ */
#sanity-player-panel:hover,
#sanity-dm-panel:hover,
#sanity-library-panel:hover {
  z-index: 101 !important;
  box-shadow: 0 0 30px rgba(0, 0, 0, 0.8);
}

/* –î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
@media (max-width: 768px) {
  .sanity-system-buttons {
    top: 70px;
    left: 5px;
    padding: 5px;
  }
  
  .sanity-system-btn {
    width: 35px;
    height: 35px;
    font-size: 16px;
  }
  
  #sanity-player-panel,
  #sanity-dm-panel,
  #sanity-library-panel {
    left: 10px !important;
    max-width: calc(100vw - 60px) !important;
  }
}
/* ===== –ö–ù–û–ü–ö–ò –í –õ–ï–í–û–ú –ù–ò–ñ–ù–ï–ú –£–ì–õ–£ ===== */

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–Ω–æ–ø–æ–∫ –≤ –ª–µ–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É */
#sanity-control-buttons {
  position: fixed !important;
  left: 15px !important;
  bottom: 15px !important;
  z-index: 1000 !important;
  display: flex !important;
  flex-direction: column !important;
  gap: 8px !important;
  background: rgba(15, 15, 26, 0.9) !important;
  padding: 10px !important;
  border-radius: 15px !important;
  border: 2px solid var(--color-primary) !important;
  box-shadow: 
    0 4px 15px rgba(0, 0, 0, 0.7),
    inset 0 0 10px rgba(155, 89, 182, 0.2) !important;
  backdrop-filter: blur(8px) !important;
  pointer-events: auto !important;
  min-width: 65px !important;
  min-height: 50px !important;
  max-width: 65px !important;
  transition: all 0.3s ease !important;
}

/* –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ - –ö–û–ú–ü–ê–ö–¢–ù–´–ï */
.sanity-control-button {
  width: 40px !important;
  height: 40px !important;
  border-radius: 12px !important;
  background: linear-gradient(145deg, rgba(52, 73, 94, 0.8), rgba(26, 26, 46, 0.9)) !important;
  border: 1px solid rgba(155, 89, 182, 0.5) !important;
  color: var(--color-light) !important;
  cursor: pointer !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-size: 16px !important;
  transition: all 0.2s ease !important;
  position: relative !important;
  padding: 0 !important;
  margin: 0 !important;
  overflow: hidden !important;
}

.sanity-control-button:hover {
  transform: scale(1.05) translateY(-2px) !important;
  background: linear-gradient(145deg, rgba(155, 89, 182, 0.8), rgba(139, 78, 163, 0.9)) !important;
  border-color: var(--color-primary) !important;
  box-shadow: 
    0 4px 12px rgba(155, 89, 182, 0.4),
    inset 0 0 10px rgba(255, 255, 255, 0.1) !important;
  color: white !important;
}

.sanity-control-button i {
  font-size: 16px !important;
  margin: 0 !important;
  transition: transform 0.2s ease !important;
}

.sanity-control-button:hover i {
  transform: scale(1.1) !important;
}

/* –¢–µ–∫—Å—Ç —Å–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
.sanity-control-button span {
  display: none !important;
  position: absolute !important;
  left: 50px !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
  background: rgba(0, 0, 0, 0.9) !important;
  color: white !important;
  padding: 6px 10px !important;
  border-radius: 6px !important;
  font-size: 12px !important;
  font-weight: 600 !important;
  white-space: nowrap !important;
  border: 1px solid var(--color-primary) !important;
  box-shadow: var(--shadow-medium) !important;
  z-index: 1001 !important;
  pointer-events: none !important;
}

/* –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
.sanity-control-button:hover span {
  display: block !important;
  animation: slideIn 0.2s ease !important;
}

/* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∫–Ω–æ–ø–∫–∏ */
.sanity-control-button.active {
  background: linear-gradient(145deg, rgba(231, 76, 60, 0.8), rgba(192, 57, 43, 0.9)) !important;
  border-color: var(--color-secondary) !important;
  box-shadow: 
    0 0 10px rgba(231, 76, 60, 0.5),
    inset 0 0 8px rgba(255, 255, 255, 0.1) !important;
}

.sanity-control-button.active::after {
  content: '' !important;
  position: absolute !important;
  top: 2px !important;
  right: 2px !important;
  width: 6px !important;
  height: 6px !important;
  border-radius: 50% !important;
  background: var(--color-success) !important;
  border: 1px solid var(--color-dark) !important;
  box-shadow: 0 0 4px rgba(46, 204, 113, 0.8) !important;
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ */
@keyframes slideIn {
  from { 
    opacity: 0; 
    transform: translateY(-50%) translateX(-10px); 
  }
  to { 
    opacity: 1; 
    transform: translateY(-50%) translateX(0); 
  }
}

/* –î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
@media (max-width: 768px) {
  #sanity-control-buttons {
    left: 8px !important;
    bottom: 8px !important;
    padding: 8px !important;
    gap: 6px !important;
    border-radius: 12px !important;
  }
  
  .sanity-control-button {
    width: 36px !important;
    height: 36px !important;
    font-size: 14px !important;
    border-radius: 10px !important;
  }
  
  .sanity-control-button i {
    font-size: 14px !important;
  }
  
  .sanity-control-button span {
    left: 42px !important;
    padding: 5px 8px !important;
    font-size: 11px !important;
  }
}

/* –î–ª—è –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
@media (max-height: 600px) {
  #sanity-control-buttons {
    flex-direction: row !important;
    bottom: 5px !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    min-width: auto !important;
    max-width: none !important;
    width: auto !important;
    border-radius: 20px !important;
  }
  
  .sanity-control-button span {
    top: auto !important;
    bottom: 45px !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
  }
}
/* ===== –§–ò–ö–°–ò–†–û–í–ê–ù–ù–û–ï –ü–û–ó–ò–¶–ò–û–ù–ò–†–û–í–ê–ù–ò–ï –ü–ê–ù–ï–õ–ï–ô –°–õ–ï–í–ê ===== */

/* –û–∫–Ω–∞ —Å–∏—Å—Ç–µ–º—ã —Ä–∞—Å—Å—É–¥–∫–∞ */
#sanity-player-panel.window-app,
#sanity-dm-panel.window-app,
#sanity-library-panel.window-app {
  position: fixed !important;
  margin: 0 !important;
  transform: none !important;
  z-index: 100 !important;
  max-height: 75vh !important;
  max-width: 700px !important;
  min-width: 300px !important;
}

/* –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø–∞–Ω–µ–ª–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ —Å–º–µ—â–µ–Ω–∏—è–º–∏ - –í–´–®–ï –∫–Ω–æ–ø–æ–∫ */
#sanity-player-panel.window-app {
  left: 60px !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
}

#sanity-dm-panel.window-app {
  left: 80px !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
}

#sanity-library-panel.window-app {
  left: 100px !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
}

/* –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ –ø–∞–Ω–µ–ª–∏ –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—Ç –∫–Ω–æ–ø–∫–∏ */
@media (max-height: 800px) {
  #sanity-player-panel.window-app,
  #sanity-dm-panel.window-app,
  #sanity-library-panel.window-app {
    top: 45% !important;
  }
}

/* –ó–∞–≥–æ–ª–æ–≤–∫–∏ –æ–∫–æ–Ω –¥–ª—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è */
#sanity-player-panel .window-header,
#sanity-dm-panel .window-header,
#sanity-library-panel .window-header {
  cursor: move !important;
  pointer-events: auto !important;
  user-select: none !important;
  padding: 8px 10px !important;
  min-height: 35px !important;
}

/* –ö–æ–Ω—Ç–µ–Ω—Ç –æ–∫–æ–Ω */
#sanity-player-panel .window-content,
#sanity-dm-panel .window-content,
#sanity-library-panel .window-content {
  overflow: auto !important;
  pointer-events: auto !important;
  max-height: calc(75vh - 35px) !important;
}

/* –ù–∞—à–∏ –ø–∞–Ω–µ–ª–∏ –≤–Ω—É—Ç—Ä–∏ */
#sanity-player-panel .gothic-panel,
#sanity-dm-panel .gothic-panel,
#sanity-library-panel .gothic-panel {
  pointer-events: auto !important;
  height: 100% !important;
  max-height: 100% !important;
}

/* –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ - –ø–æ–¥—Å–≤–µ—Ç–∫–∞ */
#sanity-player-panel.window-app:hover,
#sanity-dm-panel.window-app:hover,
#sanity-library-panel.window-app:hover {
  z-index: 101 !important;
  box-shadow: 0 0 25px rgba(155, 89, 182, 0.4) !important;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
@media (max-width: 1200px) {
  #sanity-player-panel.window-app,
  #sanity-dm-panel.window-app,
  #sanity-library-panel.window-app {
    max-width: 550px !important;
  }
}

@media (max-width: 768px) {
  #sanity-player-panel.window-app,
  #sanity-dm-panel.window-app,
  #sanity-library-panel.window-app {
    left: 15px !important;
    right: 15px !important;
    max-width: calc(100vw - 80px) !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
  }
}

/* –î–ª—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
@media (max-height: 700px) and (min-width: 769px) {
  #sanity-player-panel.window-app,
  #sanity-dm-panel.window-app,
  #sanity-library-panel.window-app {
    max-height: 65vh !important;
  }
  
  #sanity-player-panel .window-content,
  #sanity-dm-panel .window-content,
  #sanity-library-panel .window-content {
    max-height: calc(65vh - 35px) !important;
  }
}

/* ===== –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –≠–§–§–ï–ö–¢–´ –î–õ–Ø –ö–ù–û–ü–û–ö ===== */

/* –≠—Ñ—Ñ–µ–∫—Ç –ø—É–ª—å—Å–∞—Ü–∏–∏ –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫ */
@keyframes pulseActive {
  0% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0.7); }
  70% { box-shadow: 0 0 0 6px rgba(231, 76, 60, 0); }
  100% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0); }
}

.sanity-control-button.active {
  animation: pulseActive 2s infinite !important;
}

/* –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –∫–ª–∏–∫–µ */
.sanity-control-button:active {
  transform: scale(0.95) !important;
  transition: transform 0.1s ease !important;
}

/* –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π –±–æ—Ä–¥–µ—Ä –¥–ª—è —Ä–∞–º–∫–∏ */
#sanity-control-buttons {
  border: 2px solid transparent !important;
  background: 
    linear-gradient(rgba(15, 15, 26, 0.9), rgba(15, 15, 26, 0.9)) padding-box,
    linear-gradient(145deg, #9b59b6, #e74c3c, #f39c12) border-box !important;
  background-origin: border-box !important;
  background-clip: padding-box, border-box !important;
}

/* –≠—Ñ—Ñ–µ–∫—Ç —Å–≤–µ—á–µ–Ω–∏—è —Ä–∞–º–∫–∏ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
#sanity-control-buttons:hover {
  box-shadow: 
    0 6px 20px rgba(155, 89, 182, 0.4),
    inset 0 0 15px rgba(255, 255, 255, 0.05) !important;
}

/* ===== –ö–û–ú–ü–ê–ö–¢–ù–ê–Ø –ü–ê–ù–ï–õ–¨ –ú–ê–°–¢–ï–†–ê ===== */

/* –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è –ø–∞–Ω–µ–ª—å –±—ã—Å—Ç—Ä—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π */
.quick-actions-panel.compact {
  padding: 10px 15px !important;
  margin: 10px 20px !important;
  min-height: auto !important;
}

.quick-actions-panel.compact .quick-actions-grid {
  display: flex !important;
  justify-content: center !important;
  gap: 15px !important;
  margin-bottom: 0 !important;
}

/* –ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ */
.quick-actions-panel.compact .gothic-action-btn {
  width: 50px !important;
  height: 50px !important;
  padding: 0 !important;
  min-width: auto !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  border-radius: 50% !important;
}

.quick-actions-panel.compact .gothic-action-btn i {
  font-size: 20px !important;
  margin: 0 !important;
}

.quick-actions-panel.compact .gothic-action-btn span {
  display: none !important;
}

/* –í—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è */
.heal-actions-dropdown {
  position: relative !important;
  display: inline-block !important;
}

.heal-dropdown-menu {
  position: absolute !important;
  top: 100% !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
  background: var(--gradient-dark) !important;
  border: 1px solid rgba(155, 89, 182, 0.3) !important;
  border-radius: var(--border-radius-md) !important;
  padding: 5px !important;
  display: none !important;
  flex-direction: column !important;
  gap: 3px !important;
  min-width: 80px !important;
  z-index: 1000 !important;
  margin-top: 5px !important;
  box-shadow: var(--shadow-medium) !important;
}

.heal-actions-dropdown:hover .heal-dropdown-menu {
  display: flex !important;
}

.heal-dropdown-menu .heal-action-btn {
  width: 100% !important;
  padding: 8px 5px !important;
  font-size: 12px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 5px !important;
  border-radius: var(--border-radius-sm) !important;
}

.heal-dropdown-menu .heal-action-btn i {
  font-size: 10px !important;
}

/* –£–º–µ–Ω—å—à–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ */
.players-list-header {
  padding: 10px 20px !important;
  margin: 0 !important;
}

.players-list-header h3 {
  font-size: 16px !important;
  margin: 0 !important;
}

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∑–∞–Ω–∏–º–∞–µ—Ç –±–æ–ª—å—à–µ –º–µ—Å—Ç–∞ */
.dm-content-wrapper {
  flex: 1 !important;
  min-height: 0 !important;
  max-height: calc(100vh - 250px) !important;
  margin: 0 10px 10px !important;
  padding: 0 !important;
}

/* –£–º–µ–Ω—å—à–∞–µ–º –∫–∞—Ä—Ç–æ—á–∫–∏ –∏–≥—Ä–æ–∫–æ–≤ */
.gothic-player-card {
  padding: 10px !important;
}

.player-card-header {
  padding: 8px !important;
  gap: 10px !important;
}

.player-avatar {
  width: 50px !important;
  height: 50px !important;
}

.player-name {
  font-size: 14px !important;
  margin-bottom: 3px !important;
}

.player-user {
  font-size: 11px !important;
  margin-bottom: 5px !important;
}

.player-quick-controls {
  gap: 3px !important;
}

.player-control-btn {
  width: 28px !important;
  height: 28px !important;
  font-size: 12px !important;
}

/* –£–º–µ–Ω—å—à–∞–µ–º —à–∫–∞–ª—É —Ä–∞—Å—Å—É–¥–∫–∞ */
.player-sanity-meter {
  padding: 5px 10px !important;
}

.sanity-bar-container {
  height: 16px !important;
}

.sanity-text {
  font-size: 10px !important;
}

/* –£–º–µ–Ω—å—à–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø–∞–Ω–µ–ª–∏ */
.sanity-dm-panel .gothic-header {
  padding: 15px 20px !important;
}

.sanity-dm-panel .gothic-title {
  font-size: 20px !important;
  margin-bottom: 3px !important;
}

.sanity-dm-panel .gothic-subtitle {
  font-size: 12px !important;
  margin-bottom: 8px !important;
}

.sanity-dm-panel .header-stats {
  gap: 15px !important;
}

.sanity-dm-panel .stat-item {
  font-size: 12px !important;
}

/* –í–∫–ª–∞–¥–∫–∏ DM - –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ */
.sanity-dm-panel .dm-tabs {
  margin: 0 20px !important;
}

.sanity-dm-panel .dm-tab-btn {
  padding: 10px 15px !important;
  font-size: 13px !important;
}

/* –ü–∞–Ω–µ–ª—å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–≥—Ä–æ–∫–∞ - —Ç–æ–∂–µ –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ */
.player-view-tab {
  padding: 15px !important;
}

.player-selector {
  padding: 15px !important;
  margin-bottom: 15px !important;
}

.selector-header h3 {
  font-size: 16px !important;
  margin-bottom: 10px !important;
}

.selector-controls {
  gap: 8px !important;
}

.player-select-dropdown {
  padding: 8px 12px !important;
  font-size: 13px !important;
}

.view-player-btn {
  padding: 8px 12px !important;
  font-size: 13px !important;
  min-width: auto !important;
}

/* –£–º–µ–Ω—å—à–∞–µ–º –≤—ã—Å–æ—Ç—É –≤—Å–µ–π –ø–∞–Ω–µ–ª–∏ DM */
#sanity-dm-panel.window-app {
  height: auto !important;
  min-height: 500px !important;
  max-height: 85vh !important;
}
/* ===== –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò –î–õ–Ø –ö–û–ú–ü–ê–ö–¢–ù–û–°–¢–ò ===== */

/* –°–µ—Ç–∫–∞ –∏–≥—Ä–æ–∫–æ–≤ –∑–∞–Ω–∏–º–∞–µ—Ç –±–æ–ª—å—à–µ –º–µ—Å—Ç–∞ */
.sanity-dm-panel .players-grid {
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)) !important;
  gap: 10px !important;
}

/* –£–º–µ–Ω—å—à–∞–µ–º –æ—Ç—Å—Ç—É–ø—ã –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö */
.player-main-info {
  min-width: 0 !important;
}

.player-status {
  gap: 8px !important;
}

.stress-badge {
  padding: 2px 6px !important;
  font-size: 10px !important;
}

.sanity-percent {
  padding: 2px 6px !important;
  font-size: 10px !important;
}

/* –£–º–µ–Ω—å—à–∞–µ–º –ø–æ–¥–≤–∞–ª */
.sanity-dm-panel .panel-footer {
  padding: 8px 20px !important;
}

.sanity-dm-panel .footer-info p {
  font-size: 11px !important;
  gap: 8px !important;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
@media (max-width: 768px) {
  .sanity-dm-panel .players-grid {
    grid-template-columns: 1fr !important;
  }
  
  .quick-actions-panel.compact .quick-actions-grid {
    gap: 10px !important;
  }
  
  .quick-actions-panel.compact .gothic-action-btn {
    width: 45px !important;
    height: 45px !important;
  }
  
  .sanity-dm-panel .gothic-header {
    padding: 12px 15px !important;
  }
  
  .sanity-dm-panel .dm-tabs {
    margin: 0 15px !important;
  }
  
  .sanity-dm-panel .dm-tab-btn {
    padding: 8px 12px !important;
    font-size: 12px !important;
  }
}
/* ===== –§–ò–ù–ê–õ–¨–ù–´–ï –®–¢–†–ò–•–ò –î–õ–Ø –ö–û–ú–ü–ê–ö–¢–ù–û–ô –ü–ê–ù–ï–õ–ò ===== */

/* –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –¥–ª—è –∫–Ω–æ–ø–æ–∫ */
.quick-actions-panel.compact .gothic-action-btn {
  transition: all 0.2s ease !important;
}

/* –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è */
.heal-actions-dropdown:hover .gothic-action-btn {
  transform: scale(1.1) !important;
  box-shadow: 0 0 15px rgba(46, 204, 113, 0.5) !important;
}

/* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ –º–µ–Ω—é */
.heal-actions-dropdown::after {
  content: '‚ñº' !important;
  position: absolute !important;
  bottom: -2px !important;
  right: -2px !important;
  font-size: 8px !important;
  color: var(--color-success) !important;
  background: var(--color-dark) !important;
  width: 12px !important;
  height: 12px !important;
  border-radius: 50% !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  opacity: 0.7 !important;
}

/* –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏ */
.sanity-dm-panel .dm-tab-btn.active {
  background: linear-gradient(145deg, rgba(155, 89, 182, 0.8), rgba(139, 78, 163, 0.9)) !important;
  box-shadow: 0 0 10px rgba(155, 89, 182, 0.5) !important;
}

/* –£–ª—É—á—à–∞–µ–º —Å–∫—Ä–æ–ª–ª–∏–Ω–≥ */
.dm-content-wrapper::-webkit-scrollbar {
  width: 6px !important;
}

.dm-content-wrapper::-webkit-scrollbar-thumb {
  background: var(--color-primary) !important;
  border-radius: 3px !important;
}

/* ===== –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° –î–ò–ê–õ–û–ì–ê–ú–ò FOUNDRY ===== */

/* –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤ Foundry –ø–æ–¥ –Ω–∞—à –≥–æ—Ç–∏—á–µ—Å–∫–∏–π —Å—Ç–∏–ª—å */
.dialog .window-content form.sanity-dialog-form {
  background: transparent;
  border: none;
  box-shadow: none;
  padding: 0;
}

.dialog .window-content form.sanity-dialog-form::before {
  display: none;
}

/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ –¥–∏–∞–ª–æ–≥–∞ */
.dialog .window-header {
  background: linear-gradient(145deg, rgba(26, 26, 46, 0.9), rgba(15, 15, 26, 0.95));
  border-bottom: 2px solid var(--color-primary);
  color: var(--color-light);
  font-family: 'Cinzel', serif;
}

.dialog .window-header h4 {
  color: var(--color-primary);
  font-weight: 700;
  letter-spacing: 1px;
}

/* –ö–Ω–æ–ø–∫–∏ –¥–∏–∞–ª–æ–≥–∞ */
.dialog .dialog-buttons {
  display: flex;
  gap: 10px;
  padding: 15px 0 0 0;
  margin-top: 20px;
  border-top: 1px solid rgba(155, 89, 182, 0.3);
}

.dialog .dialog-button {
  flex: 1;
  padding: 12px 20px;
  background: linear-gradient(145deg, rgba(52, 73, 94, 0.8), rgba(41, 58, 75, 0.9));
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius-md);
  color: var(--color-light);
  font-family: 'Cinzel', serif;
  font-weight: 600;
  font-size: 13px;
  cursor: pointer;
  transition: var(--transition-normal);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  letter-spacing: 1px;
}

.dialog .dialog-button:hover {
  background: linear-gradient(145deg, rgba(155, 89, 182, 0.8), rgba(139, 78, 163, 0.9));
  border-color: var(--color-primary);
  transform: translateY(-2px);
  box-shadow: 0 0 10px rgba(155, 89, 182, 0.5);
}

.dialog .dialog-button.default {
  background: var(--gradient-purple);
  border: 1px solid var(--color-primary);
  color: white;
  font-weight: 700;
}

.dialog .dialog-button.default:hover {
  background: var(--gradient-purple);
  border-color: var(--color-gold);
  transform: translateY(-2px);
  box-shadow: 0 0 15px rgba(155, 89, 182, 0.7);
}

/* –ö–æ–Ω—Ç–µ–Ω—Ç –¥–∏–∞–ª–æ–≥–∞ */
.dialog .window-content {
  background: linear-gradient(145deg, rgba(26, 26, 46, 0.7), rgba(15, 15, 26, 0.8));
  border: 1px solid rgba(155, 89, 182, 0.2);
  border-radius: 0 0 var(--border-radius-lg) var(--border-radius-lg);
  color: var(--color-light);
  font-family: 'Cinzel', serif;
}

/* –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤ —Å–∏—Å—Ç–µ–º—ã —Ä–∞—Å—Å—É–¥–∫–∞ */
.dialog[data-appid^="sanity-"] .window-header {
  background: linear-gradient(145deg, rgba(155, 89, 182, 0.9), rgba(139, 78, 163, 0.95));
}

.dialog[data-appid^="sanity-"] .window-header h4 {
  color: white;
  text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.8);
}

.dialog[data-appid^="sanity-"] .window-header i {
  color: var(--color-gold);
  margin-right: 10px;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Å –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π */
.sanity-library-panel .library-content-scrollable {
  flex: 1;
  overflow-y: auto;
  max-height: calc(100vh - 250px);
  padding-right: 5px;
}

.sanity-library-panel .conditions-container-scrollable {
  display: flex;
  flex-direction: column;
  gap: 15px;
  padding: 10px;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ —Å–æ—Å—Ç–æ—è–Ω–∏–π */
.sanity-library-panel .gothic-condition-card {
  background: rgba(26, 26, 46, 0.8);
  border: 1px solid #9b59b6;
  border-radius: 10px;
  padding: 15px;
  margin-bottom: 10px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
  transition: all 0.3s ease;
}

.sanity-library-panel .gothic-condition-card:hover {
  border-color: #8e44ad;
  box-shadow: 0 4px 12px rgba(142, 68, 173, 0.3);
}

.sanity-library-panel .gothic-condition-card.psychosis {
  border-left: 4px solid #e74c3c;
}

.sanity-library-panel .gothic-condition-card.inspiration {
  border-left: 4px solid #2ecc71;
}

/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ä—Ç–æ—á–∫–∏ */
.sanity-library-panel .condition-header {
  margin-bottom: 12px;
  padding-bottom: 10px;
  border-bottom: 1px solid rgba(155, 89, 182, 0.3);
}

.sanity-library-panel .condition-title h4 {
  margin: 0 0 5px 0;
  color: #f1f1f1;
  font-size: 1.2em;
}

.sanity-library-panel .condition-meta {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.sanity-library-panel .condition-tier {
  padding: 2px 8px;
  border-radius: 12px;
  font-size: 0.85em;
  font-weight: bold;
}

.sanity-library-panel .condition-type {
  padding: 2px 8px;
  border-radius: 12px;
  font-size: 0.85em;
  font-weight: bold;
}

/* –û–ø–∏—Å–∞–Ω–∏–µ */
.sanity-library-panel .condition-description-full {
  margin-bottom: 15px;
}

.sanity-library-panel .condition-description-full h5 {
  margin: 0 0 8px 0;
  color: #ddd;
  font-size: 1em;
  display: flex;
  align-items: center;
  gap: 5px;
}

.sanity-library-panel .description-text {
  margin: 0;
  color: #ccc;
  line-height: 1.5;
  font-size: 0.95em;
}

/* –ú–µ—Ö–∞–Ω–∏–∫–∞ */
.sanity-library-panel .condition-mechanics {
  margin-bottom: 15px;
}

.sanity-library-panel .condition-mechanics h5 {
  margin: 0 0 8px 0;
  color: #ddd;
  font-size: 1em;
  display: flex;
  align-items: center;
  gap: 5px;
}

.sanity-library-panel .mechanics-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap: 10px;
}

.sanity-library-panel .mech-item {
  display: flex;
  justify-content: space-between;
  padding: 5px 8px;
  background: rgba(40, 40, 60, 0.5);
  border-radius: 6px;
  border: 1px solid rgba(155, 89, 182, 0.2);
}

.sanity-library-panel .mech-label {
  color: #aaa;
  font-size: 0.9em;
}

.sanity-library-panel .mech-value {
  font-weight: bold;
  font-size: 0.9em;
}

/* –ó–∞–º–µ—Ç–∫–∞ –¥–ª—è –æ—Ç—ã–≥—Ä—ã—à–∞ */
.sanity-library-panel .condition-note {
  background: rgba(52, 152, 219, 0.1);
  border: 1px solid rgba(52, 152, 219, 0.3);
  border-radius: 8px;
  padding: 10px;
  display: flex;
  align-items: flex-start;
  gap: 10px;
}

.sanity-library-panel .condition-note i {
  color: #3498db;
  margin-top: 2px;
}

.sanity-library-panel .condition-note p {
  margin: 0;
  color: #bdc3c7;
  font-size: 0.9em;
  line-height: 1.4;
}

/* –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ */
.sanity-library-panel .empty-state {
  text-align: center;
  padding: 40px 20px;
  color: #999;
}

.sanity-library-panel .empty-icon {
  font-size: 3em;
  margin-bottom: 15px;
  color: #666;
}

/* –¶–≤–µ—Ç–∞ –¥–ª—è —É—Ä–æ–≤–Ω–µ–π –∏ —Ç–∏–ø–æ–≤ */
.sanity-library-panel .tier-1 { background: #2c3e50; color: #ecf0f1; }
.sanity-library-panel .tier-2 { background: #34495e; color: #ecf0f1; }
.sanity-library-panel .tier-3 { background: #7f8c8d; color: #ecf0f1; }
.sanity-library-panel .tier-4 { background: #e74c3c; color: #ecf0f1; }
.sanity-library-panel .tier-5 { background: #c0392b; color: #ecf0f1; }

.sanity-library-panel .psychosis { background: rgba(106, 12, 160, 0.2); color: #e74c3c; }
.sanity-library-panel .inspiration { background: rgba(101, 218, 72, 0.2); color: #2ecc71; }


/* ===== –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –î–õ–Ø –ë–ò–ë–õ–ò–û–¢–ï–ö–ò –°–û –°–ö–†–û–õ–õ–ò–ù–ì–û–ú ===== */

/* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π */
.sanity-library-panel .gothic-content {
  display: flex !important;
  flex-direction: column !important;
  flex: 1 !important;
  min-height: 0 !important;
  overflow: hidden !important;
  position: relative !important;
}

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–∫—Ä–æ–ª–ª–∞ */
.library-scrollable-container {
  flex: 1 !important;
  min-height: 0 !important;
  display: flex !important;
  flex-direction: column !important;
  overflow: hidden !important;
}

/* –ê–∫—Ç–∏–≤–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
.sanity-library-panel .tab-content.active {
  flex: 1 !important;
  display: flex !important;
  flex-direction: column !important;
  min-height: 0 !important;
  overflow: hidden !important;
  padding: 0 !important;
}

/* –°–∫—Ä–æ–ª–ª–∏—Ä—É–µ–º—ã–π —Å–ø–∏—Å–æ–∫ —Å–æ—Å—Ç–æ—è–Ω–∏–π */
.conditions-scrollable-list {
  flex: 1 !important;
  min-height: 0 !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  padding: 15px !important;
  display: flex !important;
  flex-direction: column !important;
  gap: 15px !important;
}

/* –ö–∞—Ä—Ç–æ—á–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π */
.sanity-library-panel .gothic-condition-card {
  background: linear-gradient(145deg, rgba(26, 26, 46, 0.9), rgba(15, 15, 26, 0.95));
  border: 1px solid;
  border-radius: var(--border-radius-lg);
  padding: 20px;
  transition: var(--transition-normal);
  position: relative;
  overflow: hidden;
  flex-shrink: 0 !important; /* –í–∞–∂–Ω–æ: –Ω–µ —Å–∂–∏–º–∞–µ–º –∫–∞—Ä—Ç–æ—á–∫–∏ */
  max-height: none !important;
}

.sanity-library-panel .gothic-condition-card.psychosis {
  border-color: rgba(231, 76, 60, 0.4);
}

.sanity-library-panel .gothic-condition-card.psychosis::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  height: 100%;
  background: var(--gradient-red);
}

.sanity-library-panel .gothic-condition-card.inspiration {
  border-color: rgba(46, 204, 113, 0.4);
}

.sanity-library-panel .gothic-condition-card.inspiration::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  height: 100%;
  background: var(--gradient-green);
}

.sanity-library-panel .gothic-condition-card:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-medium);
}

/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ä—Ç–æ—á–∫–∏ */
.sanity-library-panel .condition-header {
  margin-bottom: 15px;
  padding-bottom: 10px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.sanity-library-panel .condition-title h4 {
  margin: 0 0 8px 0;
  color: var(--color-light);
  font-size: 18px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.sanity-library-panel .condition-meta {
  display: flex;
  gap: 10px;
}

.sanity-library-panel .condition-tier {
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 600;
  color: white;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.tier-1 { background: rgba(46, 204, 113, 0.3); border: 1px solid rgba(46, 204, 113, 0.5); }
.tier-2 { background: rgba(243, 156, 18, 0.3); border: 1px solid rgba(243, 156, 18, 0.5); }
.tier-3 { background: rgba(230, 126, 34, 0.3); border: 1px solid rgba(230, 126, 34, 0.5); }
.tier-4 { background: rgba(231, 76, 60, 0.3); border: 1px solid rgba(231, 76, 60, 0.5); }
.tier-5 { background: rgba(155, 89, 182, 0.3); border: 1px solid rgba(155, 89, 182, 0.5); }

.sanity-library-panel .condition-type {
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.sanity-library-panel .condition-type.psychosis {
  background: rgba(231, 76, 60, 0.2);
  color: var(--color-secondary);
  border: 1px solid rgba(231, 76, 60, 0.4);
}

.sanity-library-panel .condition-type.inspiration {
  background: rgba(46, 204, 113, 0.2);
  color: var(--color-success);
  border: 1px solid rgba(46, 204, 113, 0.4);
}

/* –û–ø–∏—Å–∞–Ω–∏–µ */
.sanity-library-panel .condition-description-full {
  margin-bottom: 15px;
}

.sanity-library-panel .condition-description-full h5 {
  margin: 0 0 8px 0;
  color: var(--color-primary);
  font-size: 14px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.sanity-library-panel .description-text {
  margin: 0;
  font-size: 14px;
  color: var(--color-light);
  line-height: 1.6;
  word-break: break-word;
  white-space: pre-wrap;
}

/* –ú–µ—Ö–∞–Ω–∏–∫–∞ */
.sanity-library-panel .condition-mechanics {
  margin-bottom: 15px;
}

.sanity-library-panel .condition-mechanics h5 {
  margin: 0 0 10px 0;
  color: var(--color-primary);
  font-size: 14px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.sanity-library-panel .mechanics-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 10px;
}

.sanity-library-panel .mech-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 12px;
  background: rgba(52, 73, 94, 0.3);
  border-radius: var(--border-radius-sm);
}

.sanity-library-panel .mech-label {
  font-size: 12px;
  color: var(--color-gray);
}

.sanity-library-panel .mech-value {
  font-size: 13px;
  font-weight: 600;
  padding: 4px 8px;
  border-radius: 4px;
}

.sanity-library-panel .mech-value.psychosis {
  background: rgba(231, 76, 60, 0.2);
  color: var(--color-secondary);
  border: 1px solid rgba(231, 76, 60, 0.3);
}

.sanity-library-panel .mech-value.inspiration {
  background: rgba(46, 204, 113, 0.2);
  color: var(--color-success);
  border: 1px solid rgba(46, 204, 113, 0.3);
}

.sanity-library-panel .mech-value.tier-1 { color: var(--color-success); }
.sanity-library-panel .mech-value.tier-2 { color: var(--color-warning); }
.sanity-library-panel .mech-value.tier-3 { color: #e67e22; }
.sanity-library-panel .mech-value.tier-4 { color: var(--color-secondary); }
.sanity-library-panel .mech-value.tier-5 { color: var(--color-primary); }

/* –ó–∞–º–µ—Ç–∫–∞ –¥–ª—è –æ—Ç—ã–≥—Ä—ã—à–∞ */
.sanity-library-panel .condition-note {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  padding: 12px;
  background: rgba(155, 89, 182, 0.1);
  border-radius: var(--border-radius-md);
  border: 1px solid rgba(155, 89, 182, 0.3);
  font-size: 13px;
  color: var(--color-light);
  line-height: 1.4;
}

.sanity-library-panel .condition-note i {
  color: var(--color-primary);
  font-size: 16px;
  flex-shrink: 0;
  margin-top: 2px;
}

.sanity-library-panel .condition-note p {
  margin: 0;
  flex: 1;
}

/* –°–∫—Ä–æ–ª–ª–±–∞—Ä –¥–ª—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ */
.conditions-scrollable-list::-webkit-scrollbar {
  width: 8px !important;
}

.conditions-scrollable-list::-webkit-scrollbar-track {
  background: rgba(26, 26, 46, 0.3) !important;
  border-radius: 4px !important;
}

.conditions-scrollable-list::-webkit-scrollbar-thumb {
  background: linear-gradient(to bottom, var(--color-primary), #8e44ad) !important;
  border-radius: 4px !important;
  border: 2px solid transparent !important;
  background-clip: content-box !important;
}

.conditions-scrollable-list::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(to bottom, var(--color-secondary), #c0392b) !important;
  background-clip: content-box !important;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ */
@media (max-width: 768px) {
  .sanity-library-panel .condition-meta {
    flex-direction: column;
    gap: 5px;
  }
  
  .sanity-library-panel .mechanics-grid {
    grid-template-columns: 1fr;
  }
  
  .sanity-library-panel .gothic-condition-card {
    padding: 15px;
  }
  
  .conditions-scrollable-list {
    padding: 10px;
  }
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –ø—É—Å—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è */
.sanity-library-panel .empty-state {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  flex: 1 !important;
  min-height: 300px !important;
  padding: 40px 20px !important;
  color: var(--color-gray) !important;
  text-align: center !important;
}

.sanity-library-panel .empty-icon {
  font-size: 48px !important;
  margin-bottom: 20px !important;
  color: var(--color-border) !important;
  opacity: 0.5 !important;
}

.sanity-library-panel .empty-state h3 {
  margin: 0 0 12px 0 !important;
  color: var(--color-primary) !important;
  font-size: 20px !important;
}

.sanity-library-panel .empty-state p {
  margin: 0 !important;
  font-size: 14px !important;
  max-width: 300px !important;
  line-height: 1.5 !important;
}

/* ===== –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –í–ï–†–•–ù–ï–ì–û –£–†–û–í–ù–Ø –°–ö–†–û–õ–õ–ò–ù–ì–ê ===== */

/* –û–∫–Ω–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ */
#sanity-library-panel.window-app {
  display: flex !important;
  flex-direction: column !important;
  min-height: 500px !important;
  min-width: 400px !important;
}

/* –ö–æ–Ω—Ç–µ–Ω—Ç –æ–∫–Ω–∞ Foundry */
#sanity-library-panel .window-content {
  display: flex !important;
  flex-direction: column !important;
  flex: 1 !important;
  min-height: 0 !important;
  overflow: hidden !important;
  padding: 0 !important;
}

/* –ù–∞—à–∞ –ø–∞–Ω–µ–ª—å */
.sanity-library-panel.gothic-panel {
  display: flex !important;
  flex-direction: column !important;
  flex: 1 !important;
  min-height: 0 !important;
  height: 100% !important;
}

/* –®–∞–ø–∫–∞ –ø–∞–Ω–µ–ª–∏ */
.sanity-library-panel .gothic-header {
  flex-shrink: 0 !important;
}

/* –í–∫–ª–∞–¥–∫–∏ */
.sanity-library-panel .gothic-tabs {
  flex-shrink: 0 !important;
}

/* –§–∏–ª—å—Ç—Ä—ã */
.sanity-library-panel .library-filters {
  flex-shrink: 0 !important;
}

/* –ü–æ–¥–≤–∞–ª */
.sanity-library-panel .panel-footer {
  flex-shrink: 0 !important;
}

/* ===== –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£–ë–ò–†–ê–ï–ú –î–í–û–ô–ù–û–ô –°–ö–†–û–õ–õ ===== */

/* –£–±–∏—Ä–∞–µ–º –≤—Å–µ —Å–∫—Ä–æ–ª–ª—ã —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤—ã—à–µ, –æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ conditions-scrollable-list */
.gothic-content,
.library-scrollable-container,
.tab-content.active,
#sanity-library-panel .window-content {
  overflow: visible !important;
}

/* –û—Å—Ç–∞–≤–ª—è–µ–º —Å–∫—Ä–æ–ª–ª –¢–û–õ–¨–ö–û –¥–ª—è —Å–ø–∏—Å–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π */
.conditions-scrollable-list {
  overflow-y: auto !important;
  overflow-x: hidden !important;
}

/* –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ –∫–∞—Ä—Ç–æ—á–∫–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å–∫—Ä–æ–ª–ª */
.gothic-condition-card,
.condition-description-full,
.condition-mechanics,
.condition-note {
  overflow: visible !important;
  max-height: none !important;
}

/* –¢–µ–∫—Å—Ç –æ–ø–∏—Å–∞–Ω–∏—è */
.description-text {
  max-height: none !important;
  overflow: visible !important;
}

/* ===== –ù–û–í–´–ï –°–¢–ò–õ–ò –î–õ–Ø –ü–û–õ–ï–ô –í –ë–ò–ë–õ–ò–û–¢–ï–ö–ï ===== */

/* –í–æ—Å–ø—Ä–∏—è—Ç–∏–µ –∏–∑–Ω—É—Ç—Ä–∏ */
.condition-inner-perception {
  margin-bottom: 15px;
  padding: 12px;
  background: rgba(155, 89, 182, 0.1);
  border-radius: var(--border-radius-md);
  border: 1px solid rgba(155, 89, 182, 0.3);
}

.condition-inner-perception h5 {
  margin: 0 0 8px 0;
  color: var(--color-primary);
  font-size: 14px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.condition-inner-perception h5 i {
  color: #9b59b6;
}

/* –í–Ω–µ—à–Ω–∏–µ –ø—Ä–æ—è–≤–ª–µ–Ω–∏—è */
.condition-external-manifestations {
  margin-bottom: 15px;
  padding: 12px;
  background: rgba(52, 152, 219, 0.1);
  border-radius: var(--border-radius-md);
  border: 1px solid rgba(52, 152, 219, 0.3);
}

.condition-external-manifestations h5 {
  margin: 0 0 8px 0;
  color: #3498db;
  font-size: 14px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.condition-external-manifestations h5 i {
  color: #3498db;
}

/* –†–∞–∑–Ω—ã–µ —Ü–≤–µ—Ç–∞ –¥–ª—è –ø—Å–∏—Ö–æ–∑–æ–≤ –∏ –≤–æ–æ–¥—É—à–µ–≤–ª–µ–Ω–∏–π */
.gothic-condition-card.psychosis .condition-inner-perception {
  background: rgba(231, 76, 60, 0.1);
  border: 1px solid rgba(231, 76, 60, 0.3);
}

.gothic-condition-card.psychosis .condition-inner-perception h5 {
  color: var(--color-secondary);
}

.gothic-condition-card.psychosis .condition-inner-perception h5 i {
  color: var(--color-secondary);
}

.gothic-condition-card.psychosis .condition-external-manifestations {
  background: rgba(192, 57, 43, 0.1);
  border: 1px solid rgba(192, 57, 43, 0.3);
}

.gothic-condition-card.psychosis .condition-external-manifestations h5 {
  color: #c0392b;
}

.gothic-condition-card.inspiration .condition-inner-perception {
  background: rgba(46, 204, 113, 0.1);
  border: 1px solid rgba(46, 204, 113, 0.3);
}

.gothic-condition-card.inspiration .condition-inner-perception h5 {
  color: var(--color-success);
}

.gothic-condition-card.inspiration .condition-inner-perception h5 i {
  color: var(--color-success);
}

.gothic-condition-card.inspiration .condition-external-manifestations {
  background: rgba(39, 174, 96, 0.1);
  border: 1px solid rgba(39, 174, 96, 0.3);
}

.gothic-condition-card.inspiration .condition-external-manifestations h5 {
  color: #27ae60;
}

/* –¢–µ–∫—Å—Ç –≤ –Ω–æ–≤—ã—Ö –ø–æ–ª—è—Ö */
.condition-inner-perception .description-text,
.condition-external-manifestations .description-text {
  margin: 0;
  font-size: 14px;
  color: var(--color-light);
  line-height: 1.5;
}

/* –ú–µ—Ç–∞-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è */
.condition-meta-info {
  margin-bottom: 15px;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π */
@media (max-width: 768px) {
  .condition-inner-perception,
  .condition-external-manifestations {
    padding: 10px;
  }
  
  .condition-inner-perception h5,
  .condition-external-manifestations h5 {
    font-size: 13px;
  }
  
  .condition-inner-perception .description-text,
  .condition-external-manifestations .description-text {
    font-size: 13px;
  }
}

/* ===== –°–¢–ò–õ–ò –î–õ–Ø –ù–û–í–´–• –ü–û–õ–ï–ô –í –ü–ê–ù–ï–õ–ò –ò–ì–†–û–ö–ê ===== */

/* –í–æ—Å–ø—Ä–∏—è—Ç–∏–µ –∏–∑–Ω—É—Ç—Ä–∏ –≤ –¥–µ—Ç–∞–ª—è—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è */
.condition-inner {
  margin: 0;
  font-size: 14px;
  color: var(--color-light);
  line-height: 1.5;
  padding: 8px;
  background: rgba(155, 89, 182, 0.1);
  border-radius: var(--border-radius-md);
  border-left: 3px solid var(--color-primary);
}

/* –í–Ω–µ—à–Ω–∏–µ –ø—Ä–æ—è–≤–ª–µ–Ω–∏—è –≤ –¥–µ—Ç–∞–ª—è—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è */
.condition-external {
  margin: 0;
  font-size: 14px;
  color: var(--color-light);
  line-height: 1.5;
  padding: 8px;
  background: rgba(52, 152, 219, 0.1);
  border-radius: var(--border-radius-md);
  border-left: 3px solid #3498db;
}
/* ===== –°–¢–ò–õ–ò –î–õ–Ø –°–ö–†–û–õ–õ–ê –í –ü–ê–ù–ï–õ–ò –ò–ì–†–û–ö–ê ===== */

/* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–∫—Ä–æ–ª–ª–∞ –≤ –ø–∞–Ω–µ–ª–∏ –∏–≥—Ä–æ–∫–∞ */
.sanity-player-panel .player-scrollable-container {
  flex: 1 !important;
  min-height: 0 !important;
  display: flex !important;
  flex-direction: column !important;
  overflow: hidden !important;
}

/* –ê–∫—Ç–∏–≤–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞ */
.sanity-player-panel .tab-content.active {
  flex: 1 !important;
  display: flex !important;
  flex-direction: column !important;
  min-height: 0 !important;
  overflow: hidden !important;
  padding: 0 !important;
}

/* –°–∫—Ä–æ–ª–ª–∏—Ä—É–µ–º—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–π –≤–∫–ª–∞–¥–∫–∏ */
.overview-scrollable-list,
.conditions-scrollable-list,
.history-scrollable-list,
.info-scrollable-list {
  flex: 1 !important;
  min-height: 0 !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  padding: 15px !important;
  display: flex !important;
  flex-direction: column !important;
}

/* –û–±–∑–æ—Ä */
.overview-scrollable-list .overview-grid {
  display: grid !important;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)) !important;
  gap: 20px !important;
  flex: 1 !important;
  min-height: min-content !important;
}

/* –°–æ—Å—Ç–æ—è–Ω–∏—è */
.conditions-scrollable-list {
  display: flex !important;
  flex-direction: column !important;
  gap: 15px !important;
}

/* –ò—Å—Ç–æ—Ä–∏—è */
.history-scrollable-list {
  display: flex !important;
  flex-direction: column !important;
  gap: 25px !important;
  padding-left: 40px !important;
  position: relative !important;
}

.history-scrollable-list::before {
  content: '';
  position: absolute;
  left: 20px;
  top: 0;
  bottom: 0;
  width: 2px;
  background: linear-gradient(to bottom, transparent, var(--color-primary), transparent);
}

/* –°–ø—Ä–∞–≤–∫–∞ */
.info-scrollable-list .info-container {
  display: flex !important;
  flex-direction: column !important;
  gap: 25px !important;
}

/* –ü—É—Å—Ç—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è */
.sanity-player-panel .empty-state {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  flex: 1 !important;
  min-height: 300px !important;
  padding: 40px 20px !important;
  color: var(--color-gray) !important;
  text-align: center !important;
}

/* –°–∫—Ä–æ–ª–ª–±–∞—Ä—ã –¥–ª—è –≤—Å–µ—Ö —Å–∫—Ä–æ–ª–ª–∏—Ä—É–µ–º—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ */
.overview-scrollable-list::-webkit-scrollbar,
.conditions-scrollable-list::-webkit-scrollbar,
.history-scrollable-list::-webkit-scrollbar,
.info-scrollable-list::-webkit-scrollbar {
  width: 8px !important;
}

.overview-scrollable-list::-webkit-scrollbar-track,
.conditions-scrollable-list::-webkit-scrollbar-track,
.history-scrollable-list::-webkit-scrollbar-track,
.info-scrollable-list::-webkit-scrollbar-track {
  background: rgba(26, 26, 46, 0.3) !important;
  border-radius: 4px !important;
}

.overview-scrollable-list::-webkit-scrollbar-thumb,
.conditions-scrollable-list::-webkit-scrollbar-thumb,
.history-scrollable-list::-webkit-scrollbar-thumb,
.info-scrollable-list::-webkit-scrollbar-thumb {
  background: linear-gradient(to bottom, var(--color-primary), #8e44ad) !important;
  border-radius: 4px !important;
  border: 2px solid transparent !important;
  background-clip: content-box !important;
}

.overview-scrollable-list::-webkit-scrollbar-thumb:hover,
.conditions-scrollable-list::-webkit-scrollbar-thumb:hover,
.history-scrollable-list::-webkit-scrollbar-thumb:hover,
.info-scrollable-list::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(to bottom, var(--color-secondary), #c0392b) !important;
  background-clip: content-box !important;
}

/* ===== –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –î–õ–Ø –í–ö–õ–ê–î–ö–ò –ò–°–¢–û–†–ò–ò –°–û –°–ö–†–û–õ–õ–û–ú ===== */

/* –ò—Å—Ç–æ—Ä–∏—è - —Ñ–∏–∫—Å –¥–ª—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∞ */
.history-timeline {
  max-height: none !important;
  overflow: visible !important;
  padding-left: 40px !important;
  position: relative !important;
  flex: 1 !important;
}

/* –≠–ª–µ–º–µ–Ω—Ç—ã –∏—Å—Ç–æ—Ä–∏–∏ */
.timeline-item {
  position: relative !important;
  margin-bottom: 25px !important;
  animation: fadeInLeft 0.5s ease !important;
}

/* ===== –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –î–õ–Ø –í–ö–õ–ê–î–ö–ò –°–ü–†–ê–í–ö–ò –°–û –°–ö–†–û–õ–õ–û–ú ===== */

/* –°–ø—Ä–∞–≤–∫–∞ - —Ñ–∏–∫—Å –¥–ª—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∞ */
.info-sections {
  display: flex !important;
  flex-direction: column !important;
  gap: 25px !important;
}

/* ===== –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ –î–õ–Ø –°–ö–†–û–õ–õ–ê ===== */

@media (max-width: 768px) {
  .overview-scrollable-list,
  .conditions-scrollable-list,
  .history-scrollable-list,
  .info-scrollable-list {
    padding: 10px !important;
  }
  
  .overview-scrollable-list .overview-grid {
    grid-template-columns: 1fr !important;
    gap: 15px !important;
  }
  
  .history-scrollable-list {
    padding-left: 30px !important;
  }
  
  .history-scrollable-list::before {
    left: 15px !important;
  }
  
  .timeline-marker {
    left: -30px !important;
    width: 30px !important;
  }
  
  .marker-icon {
    width: 24px !important;
    height: 24px !important;
    font-size: 10px !important;
  }
}

/* ===== –§–ò–ö–° –î–õ–Ø –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–Ø –í–ö–õ–ê–î–û–ö ===== */

/* –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ –≤–∫–ª–∞–¥–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç—Å—è */
.tab-content {
  display: none !important;
  flex-direction: column !important;
  min-height: 0 !important;
}

.tab-content.active {
  display: flex !important;
}

/* ===== –§–ò–ö–° –î–õ–Ø –ö–ê–†–¢–û–ß–ï–ö –°–û–°–¢–û–Ø–ù–ò–ô ===== */

/* –ö–∞—Ä—Ç–æ—á–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –≤—ã—Å–æ—Ç–æ–π –ø—Ä–µ–≤—å—é */
.gothic-condition-card {
  max-height: 150px !important;
  overflow: hidden !important;
  transition: max-height 0.3s ease !important;
}

.gothic-condition-card.expanded {
  max-height: 600px !important;
}

.condition-details {
  max-height: 0 !important;
  overflow: hidden !important;
  transition: max-height 0.3s ease !important;
  padding: 0 !important;
}

.gothic-condition-card.expanded .condition-details {
  max-height: 450px !important;
  padding: 15px 0 0 0 !important;
  margin-top: 15px !important;
  border-top: 1px solid rgba(255, 255, 255, 0.1) !important;
}

/* –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ –¥–µ—Ç–∞–ª–∏ —Ç–æ–∂–µ —Å–∫—Ä–æ–ª–ª—è—Ç—Å—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ */
.details-content {
  max-height: 400px !important;
  overflow-y: auto !important;
  padding-right: 5px !important;
}

.details-content::-webkit-scrollbar {
  width: 6px !important;
}

.details-content::-webkit-scrollbar-thumb {
  background: var(--color-primary) !important;
  border-radius: 3px !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —á–∞—Ç–µ */
.chat-message.sanity-chat-message {
  background: linear-gradient(145deg, rgba(26, 26, 46, 0.9), rgba(15, 15, 26, 0.95)) !important;
  border: 1px solid #9b59b6 !important;
  border-radius: 8px !important;
  margin: 5px 0 !important;
  padding: 10px !important;
  font-family: 'Cinzel', 'Times New Roman', serif !important;
  color: #e6e6e6 !important;
}

/* ===== –°–¢–ò–õ–ò –î–õ–Ø –°–û–û–ë–©–ï–ù–ò–ô –ß–ê–¢–ê –°–ò–°–¢–ï–ú–´ –†–ê–°–°–£–î–ö–ê ===== */

/* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –í–°–ï–• —Å–æ–æ–±—â–µ–Ω–∏–π —á–∞—Ç–∞ Foundry */
#chat-log .message {
  font-family: 'Cinzel', 'Times New Roman', serif !important;
  position: relative !important;
}

/* –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã - —Å –≤—ã—Å–æ–∫–æ–π —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ—Å—Ç—å—é */
#chat-log .message.sanity-chat-message,
#chat-log .message[data-flavor*="sanity"],
#chat-log .message[data-flavor*="—Ä–∞—Å—Å—É–¥–æ–∫"],
#chat-log .message[data-flavor*="Sanity"],
#chat-log .message .sanity-chat-message {
  background: linear-gradient(145deg, rgba(26, 26, 46, 0.95), rgba(15, 15, 26, 0.98)) !important;
  border: 2px solid #9b59b6 !important;
  border-radius: 12px !important;
  margin: 10px 5px !important;
  padding: 15px !important;
  position: relative !important;
  overflow: hidden !important;
  box-shadow: 
    0 4px 20px rgba(0, 0, 0, 0.7),
    inset 0 0 20px rgba(155, 89, 182, 0.1) !important;
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è */
@keyframes sanityMessageAppear {
  from { 
    opacity: 0; 
    transform: translateY(20px) scale(0.95); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0) scale(1); 
  }
}

#chat-log .message.sanity-chat-message {
  animation: sanityMessageAppear 0.3s ease-out !important;
}

/* –í–µ—Ä—Ö–Ω—è—è –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–æ–ª–æ—Å–∞ */
#chat-log .message.sanity-chat-message::before {
  content: '' !important;
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  height: 3px !important;
  background: linear-gradient(90deg, #9b59b6, #e74c3c, #f39c12, #9b59b6) !important;
  background-size: 300% 100% !important;
  animation: shimmer 3s infinite linear !important;
}

/* –®–∞–ø–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è */
#chat-log .message.sanity-chat-message .sanity-message-header {
  display: flex !important;
  align-items: center !important;
  gap: 10px !important;
  margin-bottom: 15px !important;
  padding-bottom: 10px !important;
  border-bottom: 1px solid rgba(155, 89, 182, 0.3) !important;
}

#chat-log .message.sanity-chat-message .sanity-message-header i {
  font-size: 20px !important;
  color: #9b59b6 !important;
  text-shadow: 0 0 10px rgba(155, 89, 182, 0.7) !important;
  animation: pulse 2s infinite !important;
}

#chat-log .message.sanity-chat-message .sanity-message-header h3 {
  margin: 0 !important;
  font-size: 16px !important;
  color: #f1f1f1 !important;
  font-weight: 700 !important;
  letter-spacing: 1px !important;
  text-transform: uppercase !important;
  font-family: 'Cinzel', serif !important;
}

/* –ö–æ–Ω—Ç–µ–Ω—Ç —Å–æ–æ–±—â–µ–Ω–∏—è */
#chat-log .message.sanity-chat-message .sanity-message-content {
  padding: 0 !important;
}

#chat-log .message.sanity-chat-message .message-main-text {
  font-size: 14px !important;
  color: #f1f1f1 !important;
  line-height: 1.5 !important;
  margin: 0 0 8px 0 !important;
  padding: 10px !important;
  background: rgba(0, 0, 0, 0.3) !important;
  border-radius: 8px !important;
  border-left: 3px solid #9b59b6 !important;
}

#chat-log .message.sanity-chat-message .message-main-text strong {
  color: #9b59b6 !important;
  font-weight: 700 !important;
}

#chat-log .message.sanity-chat-message .message-source {
  font-size: 12px !important;
  color: #8a8a8a !important;
  font-style: italic !important;
  text-align: right !important;
  margin: 5px 0 0 0 !important;
  padding: 5px 10px !important;
  background: rgba(0, 0, 0, 0.2) !important;
  border-radius: 6px !important;
  display: inline-block !important;
}

/* –î–µ—Ç–∞–ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è */
#chat-log .message.sanity-chat-message .condition-details-message {
  margin-top: 12px !important;
  padding: 10px !important;
  background: rgba(52, 152, 219, 0.1) !important;
  border: 1px solid rgba(52, 152, 219, 0.3) !important;
  border-radius: 8px !important;
  font-size: 12px !important;
  color: #bdc3c7 !important;
  line-height: 1.4 !important;
}

#chat-log .message.sanity-chat-message .condition-details-message i {
  color: #3498db !important;
  margin-right: 8px !important;
}

/* –í—Ç–æ—Ä–∏—á–Ω—ã–π —Ç–µ–∫—Å—Ç */
#chat-log .message.sanity-chat-message .message-secondary-text {
  font-size: 13px !important;
  color: #ccc !important;
  line-height: 1.4 !important;
  margin: 8px 0 !important;
  padding: 8px 10px !important;
  background: rgba(255, 255, 255, 0.05) !important;
  border-radius: 6px !important;
}

/* ===== –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –î–õ–Ø –°–¢–ê–ù–î–ê–†–¢–ù–´–• –õ–ò–ù–ö–û–í FOUNDRY ===== */

/* –õ–∏–Ω–∫–∏ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç—ã, –∑–∞–∫–ª–∏–Ω–∞–Ω–∏—è, —á–µ—Ä—Ç—ã –≤ –ù–ê–®–ò–• —Å–æ–æ–±—â–µ–Ω–∏—è—Ö */
#chat-log .message.sanity-chat-message a.entity-link,
#chat-log .message.sanity-chat-message a.content-link,
#chat-log .message.sanity-chat-message a.inline-roll {
  background: rgba(155, 89, 182, 0.2) !important;
  border: 1px solid rgba(155, 89, 182, 0.4) !important;
  color: #9b59b6 !important;
  padding: 2px 6px !important;
  border-radius: 4px !important;
  font-weight: 600 !important;
  text-decoration: none !important;
  transition: all 0.2s ease !important;
  display: inline-block !important;
  margin: 0 2px !important;
  line-height: 1.3 !important;
}

#chat-log .message.sanity-chat-message a.entity-link:hover,
#chat-log .message.sanity-chat-message a.content-link:hover,
#chat-log .message.sanity-chat-message a.inline-roll:hover {
  background: rgba(155, 89, 182, 0.4) !important;
  border-color: #9b59b6 !important;
  color: white !important;
  transform: translateY(-1px) !important;
  box-shadow: 0 3px 8px rgba(155, 89, 182, 0.4) !important;
}

/* –î–∞–±–ª—ã –¥–ª—è –ª–∏–Ω–∫–æ–≤ Foundry */
#chat-log .message.sanity-chat-message .dice-roll .dice-total,
#chat-log .message.sanity-chat-message .inline-roll {
  background: rgba(46, 204, 113, 0.2) !important;
  border: 1px solid rgba(46, 204, 113, 0.4) !important;
  color: #2ecc71 !important;
  padding: 4px 8px !important;
  border-radius: 6px !important;
  font-weight: 700 !important;
  font-family: 'Cinzel', serif !important;
}

/* –ü—Ä–µ–¥–º–µ—Ç—ã –∏ –∑–∞–∫–ª–∏–Ω–∞–Ω–∏—è –≤ –ù–ê–®–ò–• —Å–æ–æ–±—â–µ–Ω–∏—è—Ö */
#chat-log .message.sanity-chat-message .item-name,
#chat-log .message.sanity-chat-message .spell-name {
  color: #f39c12 !important;
  font-weight: 700 !important;
  border-bottom: 1px dashed rgba(243, 156, 18, 0.4) !important;
  padding-bottom: 1px !important;
}

/* –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –≤ –ù–ê–®–ò–• —Å–æ–æ–±—â–µ–Ω–∏—è—Ö */
#chat-log .message.sanity-chat-message table {
  width: 100% !important;
  border-collapse: separate !important;
  border-spacing: 0 !important;
  margin: 10px 0 !important;
  border: 1px solid rgba(155, 89, 182, 0.3) !important;
  border-radius: 8px !important;
  overflow: hidden !important;
}

#chat-log .message.sanity-chat-message th {
  background: rgba(155, 89, 182, 0.3) !important;
  color: #f1f1f1 !important;
  padding: 8px 12px !important;
  text-align: left !important;
  font-weight: 700 !important;
  font-size: 12px !important;
  text-transform: uppercase !important;
  letter-spacing: 1px !important;
  border-bottom: 1px solid rgba(155, 89, 182, 0.4) !important;
}

#chat-log .message.sanity-chat-message td {
  padding: 8px 12px !important;
  background: rgba(0, 0, 0, 0.2) !important;
  color: #ccc !important;
  font-size: 13px !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.05) !important;
}

#chat-log .message.sanity-chat-message tr:last-child td {
  border-bottom: none !important;
}

/* –°–ø–∏—Å–∫–∏ –≤ –ù–ê–®–ò–• —Å–æ–æ–±—â–µ–Ω–∏—è—Ö */
#chat-log .message.sanity-chat-message ul,
#chat-log .message.sanity-chat-message ol {
  margin: 8px 0 !important;
  padding-left: 20px !important;
}

#chat-log .message.sanity-chat-message li {
  margin: 4px 0 !important;
  color: #ccc !important;
  font-size: 13px !important;
  line-height: 1.4 !important;
}

/* –¶–∏—Ç–∞—Ç—ã –≤ –ù–ê–®–ò–• —Å–æ–æ–±—â–µ–Ω–∏—è—Ö */
#chat-log .message.sanity-chat-message blockquote {
  border-left: 3px solid #9b59b6 !important;
  margin: 10px 0 !important;
  padding: 8px 15px !important;
  background: rgba(155, 89, 182, 0.1) !important;
  border-radius: 0 6px 6px 0 !important;
  font-style: italic !important;
  color: #ddd !important;
}

/* ===== –¢–ò–ü–´ –°–û–û–ë–©–ï–ù–ò–ô –°–ò–°–¢–ï–ú–´ ===== */

/* –£—Ä–æ–Ω —Ä–∞—Å—Å—É–¥–∫—É */
#chat-log .message.sanity-chat-message.damage {
  border-color: #e74c3c !important;
}

#chat-log .message.sanity-chat-message.damage::before {
  background: linear-gradient(90deg, #e74c3c, #c0392b, #e74c3c) !important;
}

#chat-log .message.sanity-chat-message.damage .sanity-message-header i {
  color: #e74c3c !important;
  text-shadow: 0 0 10px rgba(231, 76, 60, 0.7) !important;
}

/* –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Å—É–¥–∫–∞ */
#chat-log .message.sanity-chat-message.healing {
  border-color: #2ecc71 !important;
}

#chat-log .message.sanity-chat-message.healing::before {
  background: linear-gradient(90deg, #2ecc71, #27ae60, #2ecc71) !important;
}

#chat-log .message.sanity-chat-message.healing .sanity-message-header i {
  color: #2ecc71 !important;
  text-shadow: 0 0 10px rgba(46, 204, 113, 0.7) !important;
}

/* –ü—Å–∏—Ö–æ–∑ */
#chat-log .message.sanity-chat-message.psychosis {
  border-color: #e74c3c !important;
}

#chat-log .message.sanity-chat-message.psychosis::before {
  background: linear-gradient(90deg, #e74c3c, #c0392b, #e74c3c) !important;
}

#chat-log .message.sanity-chat-message.psychosis .sanity-message-header i {
  color: #e74c3c !important;
  text-shadow: 0 0 10px rgba(231, 76, 60, 0.7) !important;
}

/* –í–æ–æ–¥—É—à–µ–≤–ª–µ–Ω–∏–µ */
#chat-log .message.sanity-chat-message.inspiration {
  border-color: #2ecc71 !important;
}

#chat-log .message.sanity-chat-message.inspiration::before {
  background: linear-gradient(90deg, #2ecc71, #27ae60, #2ecc71) !important;
}

#chat-log .message.sanity-chat-message.inspiration .sanity-message-header i {
  color: #2ecc71 !important;
  text-shadow: 0 0 10px rgba(46, 204, 113, 0.7) !important;
}

/* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ */
#chat-log .message.sanity-chat-message.info {
  border-color: #3498db !important;
}

#chat-log .message.sanity-chat-message.info::before {
  background: linear-gradient(90deg, #3498db, #2980b9, #3498db) !important;
}

#chat-log .message.sanity-chat-message.info .sanity-message-header i {
  color: #3498db !important;
  text-shadow: 0 0 10px rgba(52, 152, 219, 0.7) !important;
}



/* ===== –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ –î–õ–Ø –°–û–û–ë–©–ï–ù–ò–ô ===== */

@media (max-width: 768px) {
  #chat-log .message.sanity-chat-message {
    margin: 8px 3px !important;
    padding: 12px !important;
  }
  
  #chat-log .message.sanity-chat-message .sanity-message-header {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 5px !important;
  }
  
  #chat-log .message.sanity-chat-message .sanity-message-header h3 {
    font-size: 14px !important;
  }
  
  #chat-log .message.sanity-chat-message .message-main-text {
    font-size: 13px !important;
    padding: 8px !important;
  }
  
  #chat-log .message.sanity-chat-message .message-secondary-text {
    font-size: 12px !important;
  }
  
  #chat-log .message.sanity-chat-message .condition-details-message {
    font-size: 11px !important;
  }
  
  /* –õ–∏–Ω–∫–∏ –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö */
  #chat-log .message.sanity-chat-message a.entity-link,
  #chat-log .message.sanity-chat-message a.content-link,
  #chat-log .message.sanity-chat-message a.inline-roll {
    padding: 1px 4px !important;
    font-size: 12px !important;
    margin: 0 1px !important;
  }
}

/* ===== –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ó–ê–©–ò–¢–ù–´–ï –ú–ï–†–´ ===== */

/* –ò–∑–æ–ª–∏—Ä—É–µ–º –Ω–∞—à–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª–µ–π */
#chat-log .message.sanity-chat-message * {
  box-sizing: border-box !important;
  max-width: 100% !important;
  word-wrap: break-word !important;
  overflow-wrap: break-word !important;
}

/* –§–∏–∫—Å –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Å–ª–æ–≤ –≤ –Ω–∞—à–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö */
#chat-log .message.sanity-chat-message {
  word-break: break-word !important;
  hyphens: auto !important;
}

/* –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ç—Å—Ç—É–ø—ã –¥–ª—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –ù–ê–®–ò–• —Å–æ–æ–±—â–µ–Ω–∏—è—Ö */
#chat-log .message.sanity-chat-message > *:first-child {
  margin-top: 0 !important;
}

#chat-log .message.sanity-chat-message > *:last-child {
  margin-bottom: 0 !important;
}

/* ===== –°–ü–ï–¶–ò–ê–õ–¨–ù–´–ï –°–¢–ò–õ–ò –î–õ–Ø –ö–û–ù–ö–†–ï–¢–ù–´–• –¢–ò–ü–û–í –ö–û–ù–¢–ï–ù–¢–ê ===== */

/* –ö–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–µ–¥–º–µ—Ç–æ–≤/–∑–∞–∫–ª–∏–Ω–∞–Ω–∏–π –≤–Ω—É—Ç—Ä–∏ –ù–ê–®–ò–• —Å–æ–æ–±—â–µ–Ω–∏–π */
#chat-log .message.sanity-chat-message .item-card,
#chat-log .message.sanity-chat-message .spell-card {
  border: 1px solid rgba(155, 89, 182, 0.4) !important;
  border-radius: 8px !important;
  margin: 10px 0 !important;
  overflow: hidden !important;
  background: rgba(26, 26, 46, 0.8) !important;
}

#chat-log .message.sanity-chat-message .item-card-header,
#chat-log .message.sanity-chat-message .spell-card-header {
  background: rgba(155, 89, 182, 0.3) !important;
  padding: 8px 12px !important;
  border-bottom: 1px solid rgba(155, 89, 182, 0.4) !important;
}

#chat-log .message.sanity-chat-message .item-card-content,
#chat-log .message.sanity-chat-message .spell-card-content {
  padding: 10px 12px !important;
}

/* –ò–∫–æ–Ω–∫–∏ –≤ –ù–ê–®–ò–• —Å–æ–æ–±—â–µ–Ω–∏—è—Ö */
#chat-log .message.sanity-chat-message i.fas,
#chat-log .message.sanity-chat-message i.far,
#chat-log .message.sanity-chat-message i.fab {
  font-style: normal !important;
  font-family: 'Font Awesome 5 Free' !important;
  font-weight: 900 !important;
}

/* ===== –ê–ù–ò–ú–ê–¶–ò–ò –ò –≠–§–§–ï–ö–¢–´ ===== */

/* –ú–µ—Ä—Ü–∞–Ω–∏–µ –¥–ª—è –≤–∞–∂–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π */
@keyframes importantPulse {
  0% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0.7); }
  70% { box-shadow: 0 0 0 10px rgba(231, 76, 60, 0); }
  100% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0); }
}

#chat-log .message.sanity-chat-message.important {
  animation: 
    sanityMessageAppear 0.3s ease-out,
    importantPulse 2s infinite 0.3s !important;
}

/* –ü–ª–∞–≤–Ω–æ–µ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π */
#chat-log .message.sanity-chat-message.old {
  opacity: 0.7 !important;
  transition: opacity 0.5s ease !important;
}

#chat-log .message.sanity-chat-message.old:hover {
  opacity: 1 !important;
}

/* ===== –§–ò–ù–ê–õ–¨–ù–´–ï –®–¢–†–ò–•–ò ===== */

/* –¢–µ–Ω—å –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –ù–ê–®–ò —Å–æ–æ–±—â–µ–Ω–∏—è */
#chat-log .message.sanity-chat-message:hover {
  transform: translateY(-2px) !important;
  transition: transform 0.2s ease !important;
  box-shadow: 
    0 6px 25px rgba(0, 0, 0, 0.8),
    inset 0 0 20px rgba(155, 89, 182, 0.15) !important;
}

/* –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —É–≥–æ–ª–æ–∫ */
#chat-log .message.sanity-chat-message::after {
  content: 'üß†' !important;
  position: absolute !important;
  bottom: 5px !important;
  right: 5px !important;
  font-size: 12px !important;
  opacity: 0.3 !important;
  pointer-events: none !important;
}

/* –î–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π —É—Ä–æ–Ω–∞ - –¥—Ä—É–≥–æ–π —É–≥–æ–ª–æ–∫ */
#chat-log .message.sanity-chat-message.damage::after {
  content: 'üíÄ' !important;
}

/* –î–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è */
#chat-log .message.sanity-chat-message.healing::after {
  content: '‚ù§Ô∏è' !important;
}

/* ===== –°–¢–ò–õ–ò –î–õ–Ø 0 –£–†–û–í–ù–Ø –°–¢–†–ï–°–°–ê ===== */

/* –¶–≤–µ—Ç–∞ –¥–ª—è 0 —É—Ä–æ–≤–Ω—è —Å—Ç—Ä–µ—Å—Å–∞ */
.stress-0,
.stress-level-0 {
  background: #3498db !important; /* –Ø—Ä–∫–∏–π —Å–∏–Ω–∏–π */
  color: white !important;
  border: 1px solid #2980b9 !important;
}

/* –ì—Ä–∞–¥–∏–µ–Ω—Ç—ã –¥–ª—è 0 —É—Ä–æ–≤–Ω—è */
.level-0 {
  background: linear-gradient(145deg, #3498db, #2980b9) !important;
  border-color: rgba(52, 152, 219, 0.4) !important;
}

/* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–∞ —Ç–æ–∫–µ–Ω–µ */
.sanity-level-0 {
  background: linear-gradient(145deg, #3498db, #2980b9) !important;
  border: 2px solid white !important;
  box-shadow: 0 0 10px rgba(52, 152, 219, 0.7) !important;
}

/* –®–∫–∞–ª–∞ —Ä–∞—Å—Å—É–¥–∫–∞ –¥–ª—è 0 —É—Ä–æ–≤–Ω—è */
.sanity-percent.level-0 {
  background: rgba(52, 152, 219, 0.2) !important;
  color: #3498db !important;
  border: 1px solid rgba(52, 152, 219, 0.4) !important;
}

/* –ë–µ–π–¥–∂–∏ –∏ –º–µ—Ç–∫–∏ –¥–ª—è 0 —É—Ä–æ–≤–Ω—è */
.stress-badge.stress-0 {
  background: #3498db !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
  box-shadow: 0 2px 4px rgba(52, 152, 219, 0.3) !important;
}

.condition-tier.tier-0 {
  background: rgba(52, 152, 219, 0.3) !important;
  border: 1px solid rgba(52, 152, 219, 0.5) !important;
  color: #3498db !important;
}

/* –û–ø–∏—Å–∞–Ω–∏–µ —É—Ä–æ–≤–Ω–µ–π —Å—Ç—Ä–µ—Å—Å–∞ –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏ */
.stress-level-info.level-0 {
  border-color: rgba(52, 152, 219, 0.3) !important;
}

.level-0 .level-badge {
  background: #3498db !important;
  box-shadow: 0 0 10px rgba(52, 152, 219, 0.5) !important;
}

.level-0 .level-header h5 {
  color: #3498db !important;
}

/* –®–∞–Ω—Å—ã –¥–ª—è 0 —É—Ä–æ–≤–Ω—è */
.level-0 .chance-badge.psychosis {
  background: rgba(52, 152, 219, 0.2) !important;
  color: #3498db !important;
  border: 1px solid rgba(52, 152, 219, 0.4) !important;
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –ø—É–ª—å—Å–∞—Ü–∏–∏ –¥–ª—è 0 —É—Ä–æ–≤–Ω—è */
@keyframes pulse-blue {
  0% { box-shadow: 0 0 5px rgba(52, 152, 219, 0.5); }
  50% { box-shadow: 0 0 15px rgba(52, 152, 219, 0.8); }
  100% { box-shadow: 0 0 5px rgba(52, 152, 219, 0.5); }
}

.stress-0,
.level-0 .level-badge,
.sanity-level-0 {
  animation: pulse-blue 2s infinite !important;
}

/* –ò–∫–æ–Ω–∫–∞ –¥–ª—è 0 —É—Ä–æ–≤–Ω—è */
.stress-0-icon {
  color: #3498db !important;
}

/* –¢–∞–±–ª–∏—Ü–∞ –≤ —Å–ø—Ä–∞–≤–∫–µ - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –¥–ª—è 0 —É—Ä–æ–≤–Ω—è */
.table-row.level-0 .table-cell {
  color: #3498db !important;
  font-weight: 600 !important;
}

/* –£–ª—É—á—à–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –¥–ª—è 0 —É—Ä–æ–≤–Ω—è */
.stress-0 {
  font-weight: 700 !important;
  text-transform: uppercase !important;
  letter-spacing: 1px !important;
}

/* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ —Å 0 —É—Ä–æ–≤–Ω–µ–º */
.history-change .from-0,
.history-change .to-0 {
  color: #3498db !important;
  font-weight: 600 !important;
}

/* –ò–∫–æ–Ω–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π —Å—Ç—Ä–µ—Å—Å–∞ */
.stress-icon-0::before {
  content: "üòå" !important;
  font-size: 14px !important;
  margin-right: 5px !important;
}

.stress-icon-1::before { content: "üòê" !important; }
.stress-icon-2::before { content: "üòü" !important; }
.stress-icon-3::before { content: "üò®" !important; }
.stress-icon-4::before { content: "üò±" !important; }
.stress-icon-5::before { content: "üíÄ" !important; }

/* –ò–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∞ –¥–ª—è –ø–∞–Ω–µ–ª–∏ –º–∞—Å—Ç–µ—Ä–∞ */
.player-status .stress-indicator {
  display: flex !important;
  align-items: center !important;
  gap: 5px !important;
}

.stress-indicator.level-0::before {
  content: "‚óè" !important;
  color: #3498db !important;
  font-size: 16px !important;
  animation: pulse-blue 2s infinite !important;
}

/* –ü–æ–¥—Å–∫–∞–∑–∫–∏ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ 0 —É—Ä–æ–≤–µ–Ω—å */
.stress-0[title]:hover::after {
  content: attr(title) !important;
  position: absolute !important;
  background: rgba(52, 152, 219, 0.9) !important;
  color: white !important;
  padding: 5px 10px !important;
  border-radius: 4px !important;
  font-size: 12px !important;
  z-index: 1000 !important;
  white-space: nowrap !important;
  margin-top: 5px !important;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —Å 0 —É—Ä–æ–≤–Ω–µ–º */
@media (max-width: 768px) {
  .stress-badge.stress-0 {
    font-size: 10px !important;
    padding: 2px 6px !important;
  }
  
  .level-0 .level-badge {
    width: 25px !important;
    height: 25px !important;
    font-size: 12px !important;
  }
}


/* ===== –û–¢–õ–ê–î–û–ß–ù–´–ï –°–¢–ò–õ–ò –î–õ–Ø –í–ö–õ–ê–î–û–ö ===== */

/* –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –≤–∫–ª–∞–¥–æ–∫ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ */
.gothic-tab-btn.active {
  background: linear-gradient(145deg, rgba(155, 89, 182, 0.9), rgba(139, 78, 163, 0.95)) !important;
  border-bottom: 3px solid var(--color-primary) !important;
  box-shadow: 0 0 15px rgba(155, 89, 182, 0.7) !important;
  position: relative !important;
  z-index: 10 !important;
}

/* –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤–∫–ª–∞–¥–æ–∫ */
.tab-content {
  min-height: 200px !important;
  padding: 20px !important;
  position: relative !important;
}

.tab-content.active {
  display: block !important;
  opacity: 1 !important;
  transform: translateY(0) !important;
  animation: fadeInUp 0.3s ease !important;
}

.tab-content:not(.active) {
  display: none !important;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* –û—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Ä–∞–º–∫–∏ */
.debug-tab-content {
  border: 2px dashed #3498db !important;
  padding: 20px !important;
  margin: 10px 0 !important;
  background: rgba(52, 152, 219, 0.05) !important;
}

.debug-tab-content::before {
  content: 'DEBUG: –ö–æ–Ω—Ç–µ–Ω—Ç –≤–∫–ª–∞–¥–∫–∏' !important;
  display: block !important;
  color: #3498db !important;
  font-size: 12px !important;
  font-weight: bold !important;
  margin-bottom: 10px !important;
  text-transform: uppercase !important;
}

/* –£–ª—É—á—à–µ–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π */
.conditions-container {
  min-height: 100px !important;
}

.gothic-condition-card {
  opacity: 1 !important;
  transform: translateY(0) !important;
  transition: all 0.3s ease !important;
}

.gothic-condition-card:hover {
  transform: translateY(-2px) !important;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3) !important;
}

/* –£–ª—É—á—à–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ */
.history-timeline {
  position: relative !important;
  padding: 20px 0 !important;
}

.timeline-item {
  opacity: 1 !important;
  animation: slideInRight 0.4s ease !important;
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* –£–ª—É—á—à–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–∫–∏ */
.info-container {
  opacity: 1 !important;
  animation: fadeIn 0.5s ease !important;
}

.info-section {
  margin-bottom: 25px !important;
  padding: 25px !important;
  background: linear-gradient(145deg, rgba(26, 26, 46, 0.9), rgba(15, 15, 26, 0.95)) !important;
  border: 1px solid rgba(155, 89, 182, 0.4) !important;
}

/* –§–æ—Ä—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ */
.tab-content[data-tab="conditions"] .empty-state,
.tab-content[data-tab="history"] .empty-state,
.tab-content[data-tab="info"] .empty-state {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  padding: 60px 40px !important;
  text-align: center !important;
  color: var(--color-gray) !important;
}

.empty-state .empty-icon {
  font-size: 48px !important;
  margin-bottom: 20px !important;
  opacity: 0.5 !important;
}

/* –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö –≤–∫–ª–∞–¥–æ–∫ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è */
.test-all-tabs .tab-content {
  display: block !important;
  opacity: 1 !important;
  margin-bottom: 30px !important;
  border: 1px solid rgba(155, 89, 182, 0.3) !important;
  border-radius: var(--border-radius-lg) !important;
  padding: 25px !important;
}
/* ===== –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –î–õ–Ø –í–ö–õ–ê–î–û–ö –ü–ê–ù–ï–õ–ò –ò–ì–†–û–ö–ê ===== */

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤–∫–ª–∞–¥–æ–∫ */
.gothic-content {
  flex: 1 !important;
  overflow: hidden !important;
  display: flex !important;
  flex-direction: column !important;
}

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤–∫–ª–∞–¥–æ–∫ —Å –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π */
.tab-content {
  flex: 1 !important;
  overflow: hidden !important;
  display: none !important;
  flex-direction: column !important;
}

.tab-content.active {
  display: flex !important;
  animation: fadeIn 0.3s ease !important;
}

/* –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–π –≤–∫–ª–∞–¥–∫–∏ */
.overview-grid {
  flex: 1 !important;
  overflow-y: auto !important;
  padding: 0 20px 20px 20px !important;
  margin-bottom: 20px !important;
}

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏–π —Å –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π */
.conditions-scrollable-list {
  flex: 1 !important;
  overflow-y: auto !important;
  padding: 20px !important;
  margin-bottom: 20px !important;
}

.conditions-scrollable-list .gothic-condition-card {
  margin-bottom: 15px !important;
}

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ —Å –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π */
.history-timeline {
  flex: 1 !important;
  overflow-y: auto !important;
  padding: 20px !important;
  padding-left: 40px !important;
  margin-bottom: 20px !important;
}

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏ —Å –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π */
.info-container {
  flex: 1 !important;
  overflow-y: auto !important;
  padding: 20px !important;
  margin-bottom: 20px !important;
}

/* –£–ª—É—á—à–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫ —É—Å–ª–æ–≤–∏–π */
.gothic-condition-card {
  background: linear-gradient(145deg, rgba(26, 26, 46, 0.9), rgba(15, 15, 26, 0.95)) !important;
  border: 1px solid !important;
  border-radius: var(--border-radius-lg) !important;
  padding: 20px !important;
  transition: var(--transition-normal) !important;
  position: relative !important;
  overflow: hidden !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã—Å–æ—Ç—ã –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ —É—Å–ª–æ–≤–∏–π */
.condition-details {
  max-height: 300px !important;
  overflow-y: auto !important;
  transition: max-height 0.3s ease !important;
}

/* –£–ª—É—á—à–µ–Ω–∏–µ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–æ–≤ –¥–ª—è –≤—Å–µ—Ö —Å–ø–∏—Å–∫–æ–≤ */
.conditions-scrollable-list::-webkit-scrollbar,
.history-timeline::-webkit-scrollbar,
.info-container::-webkit-scrollbar,
.overview-grid::-webkit-scrollbar {
  width: 8px !important;
}

.conditions-scrollable-list::-webkit-scrollbar-track,
.history-timeline::-webkit-scrollbar-track,
.info-container::-webkit-scrollbar-track,
.overview-grid::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.2) !important;
  border-radius: 4px !important;
}

.conditions-scrollable-list::-webkit-scrollbar-thumb,
.history-timeline::-webkit-scrollbar-thumb,
.info-container::-webkit-scrollbar-thumb,
.overview-grid::-webkit-scrollbar-thumb {
  background: linear-gradient(to bottom, var(--color-primary), #8e44ad) !important;
  border-radius: 4px !important;
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫ */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* –§–∏–∫—Å –¥–ª—è –ø—É—Å—Ç—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π */
.empty-state {
  flex: 1 !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  padding: 60px 40px !important;
  color: var(--color-gray) !important;
  text-align: center !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –ø–æ–¥–≤–∞–ª–∞ –≤ –ø–∞–Ω–µ–ª–∏ –∏–≥—Ä–æ–∫–∞ */
.sanity-player-panel .panel-footer {
  margin-top: auto !important;
  flex-shrink: 0 !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã—Å–æ—Ç—ã –≤—Å–µ–π –ø–∞–Ω–µ–ª–∏ –∏–≥—Ä–æ–∫–∞ */
.sanity-player-panel.gothic-panel {
  display: flex !important;
  flex-direction: column !important;
  height: 650px !important;
  min-height: 650px !important;
  max-height: 90vh !important;
}

/* –§–∏–∫—Å –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π */
.sanity-player-panel .gothic-content {
  height: calc(100% - 180px) !important; /* –í—ã—á–∏—Ç–∞–µ–º –≤—ã—Å–æ—Ç—É —à–∞–ø–∫–∏ –∏ –≤–∫–ª–∞–¥–æ–∫ */
  min-height: 400px !important;
}

/* –£–ª—É—á—à–µ–Ω–∏–µ —Å–µ—Ç–∫–∏ –æ–±–∑–æ—Ä–∞ –¥–ª—è —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞ */
.overview-grid {
  display: grid !important;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)) !important;
  gap: 20px !important;
  align-content: start !important;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
@media (max-width: 768px) {
  .sanity-player-panel.gothic-panel {
    height: 80vh !important;
    min-height: 500px !important;
  }
  
  .sanity-player-panel .gothic-content {
    height: calc(100% - 200px) !important;
  }
  
  .overview-grid {
    grid-template-columns: 1fr !important;
  }
  
  .conditions-scrollable-list,
  .history-timeline,
  .info-container {
    padding: 10px !important;
  }
  
  .history-timeline {
    padding-left: 30px !important;
  }
}

/* –£–ª—É—á—à–µ–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö –≤–∫–ª–∞–¥–æ–∫ */
.gothic-tab-btn.active {
  position: relative !important;
  overflow: visible !important;
}

.gothic-tab-btn.active::after {
  content: '' !important;
  position: absolute !important;
  bottom: -2px !important;
  left: 0 !important;
  right: 0 !important;
  height: 3px !important;
  background: var(--color-primary) !important;
  box-shadow: 0 0 10px rgba(155, 89, 182, 0.8) !important;
  border-radius: 2px !important;
}
/* ===== –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –û–¢–û–ë–†–ê–ñ–ï–ù–ò–Ø –ö–û–ù–¢–ï–ù–¢–ê ===== */

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤–∫–ª–∞–¥–æ–∫ */
.tab-content {
  display: none !important;
  opacity: 0 !important;
  transition: opacity 0.3s ease !important;
}

.tab-content.active {
  display: block !important;
  opacity: 1 !important;
  animation: fadeIn 0.3s ease !important;
}

/* –ì–∞—Ä–∞–Ω—Ç–∏—è –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –≤–∫–ª–∞–¥–æ–∫ */
.conditions-container,
.history-timeline,
.info-container,
.overview-grid {
  opacity: 1 !important;
  visibility: visible !important;
  display: block !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –ø—É—Å—Ç—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π */
.empty-state {
  text-align: center !important;
  padding: 60px 20px !important;
  color: var(--color-gray) !important;
  opacity: 1 !important;
  visibility: visible !important;
}

.empty-state h3 {
  color: var(--color-primary) !important;
  margin-bottom: 10px !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫ —É—Å–ª–æ–≤–∏–π */
.gothic-condition-card {
  opacity: 1 !important;
  transform: translateY(0) !important;
  transition: all 0.3s ease !important;
}

.gothic-condition-card:hover {
  transform: translateY(-2px) !important;
  box-shadow: var(--shadow-medium) !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ */
.timeline-item {
  opacity: 1 !important;
  animation: fadeInLeft 0.5s ease !important;
}

.timeline-content {
  background: rgba(26, 26, 46, 0.9) !important;
  border: 1px solid rgba(155, 89, 182, 0.3) !important;
  opacity: 1 !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–∫–∏ */
.info-section {
  opacity: 1 !important;
  margin-bottom: 20px !important;
}

.info-section h4 {
  color: var(--color-primary) !important;
}

/* –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ */
.debug-mode .tab-content,
.debug-mode .conditions-container,
.debug-mode .history-timeline,
.debug-mode .info-section {
  border: 2px solid #ff4444 !important;
  position: relative !important;
}

.debug-mode .tab-content::before {
  content: '–í–ö–õ–ê–î–ö–ê: ' attr(data-tab) !important;
  position: absolute !important;
  top: -20px !important;
  left: 10px !important;
  background: #ff4444 !important;
  color: white !important;
  padding: 2px 8px !important;
  font-size: 10px !important;
  border-radius: 3px !important;
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è */
@keyframes fadeIn {
  from { 
    opacity: 0;
    transform: translateY(10px);
  }
  to { 
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInLeft {
  from { 
    opacity: 0;
    transform: translateX(-20px);
  }
  to { 
    opacity: 1;
    transform: translateX(0);
  }
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
@media (max-width: 768px) {
  .tab-content.active {
    position: relative !important;
    z-index: 1 !important;
    min-height: 300px !important;
  }
  
  .conditions-container,
  .history-timeline {
    padding: 10px !important;
  }
}

/* –ì–∞—Ä–∞–Ω—Ç–∏—è –≤–∏–¥–∏–º–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö –∏ —Å–ø–∏—Å–∫–∞—Ö */
.details-grid,
.mechanics-grid,
.stats-grid {
  opacity: 1 !important;
}

.detail-item,
.mech-item,
.stat-item {
  opacity: 1 !important;
  transform: translateX(0) !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è "–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö" */
.no-data {
  text-align: center !important;
  padding: 40px 20px !important;
  color: var(--color-gray) !important;
  font-style: italic !important;
  opacity: 1 !important;
}